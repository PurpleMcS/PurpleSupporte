(function(_0x41747d,_0x17d075){function _0x3424e6(_0x542b03,_0x982ac7){return _0x52a4(_0x542b03-0x340,_0x982ac7);}const _0x44a04b=_0x41747d();while(!![]){try{const _0x13d8ca=-parseInt(_0x3424e6(0x509,0x593))/0x1+-parseInt(_0x3424e6(0x461,0x448))/0x2+-parseInt(_0x3424e6(0x4cd,0x494))/0x3*(parseInt(_0x3424e6(0x503,0x4ac))/0x4)+-parseInt(_0x3424e6(0x504,0x503))/0x5+-parseInt(_0x3424e6(0x535,0x4b9))/0x6+parseInt(_0x3424e6(0x542,0x4e1))/0x7*(parseInt(_0x3424e6(0x45f,0x3dc))/0x8)+-parseInt(_0x3424e6(0x49a,0x4c0))/0x9*(-parseInt(_0x3424e6(0x589,0x58b))/0xa);if(_0x13d8ca===_0x17d075)break;else _0x44a04b['push'](_0x44a04b['shift']());}catch(_0x3c3d02){_0x44a04b['push'](_0x44a04b['shift']());}}}(_0x1ac7,0x7deb1));const {SlashCommandBuilder,EmbedBuilder,ActionRowBuilder,ButtonBuilder,StringSelectMenuBuilder,PermissionFlagsBits,ButtonStyle,ChannelType,AttachmentBuilder}=require('discord.js'),fs=require('fs'),yaml=require('js-yaml'),path=require('path'),moment=require(_0x111204(0x1f8,0x20f)),Ticket=require(_0x111204(0x12a,0x15f)),Blacklist=require(_0x111204(0xa1,0x13d)),{ChartJSNodeCanvas}=require(_0x111204(0x139,0x10c));function _0x111204(_0xf83cd6,_0x1dd3b0){return _0x52a4(_0x1dd3b0- -0xd,_0xf83cd6);}const {handleTicketClose}=require(_0x111204(0x27d,0x224)),configPath=path[_0x111204(0x1a0,0x120)](__dirname,_0x111204(0x1d1,0x175)),langPath=path[_0x111204(0x13a,0x120)](__dirname,_0x111204(0x1d3,0x1fb)),config=yaml[_0x111204(0x22f,0x239)](fs[_0x111204(0x18a,0x19e)](configPath,_0x111204(0x21f,0x210))),lang=yaml['load'](fs[_0x111204(0x11a,0x19e)](langPath,_0x111204(0x262,0x210)));function parseDuration(_0x5474ba){const _0x5472b2={'s':0x3e8,'m':0x3e8*0x3c,'h':0x3e8*0x3c*0x3c,'d':0x3e8*0x3c*0x3c*0x18,'w':0x3e8*0x3c*0x3c*0x18*0x7},_0x45018c=_0x5474ba['match'](/(\d+\s*[smhdw])/g);if(!_0x45018c)throw new Error(_0x430b47(0x3ae,0x393)+_0x5474ba);function _0x430b47(_0x57f4ec,_0x16678d){return _0x111204(_0x57f4ec,_0x16678d-0x1d1);}return _0x45018c[_0x430b47(0x45c,0x3df)]((_0x8d4e0d,_0x5d4ee9)=>{const _0x4b8fdf=parseInt(_0x5d4ee9[_0x4ebab9(-0xc2,-0x43)](/\d+/)[0x0]);function _0x4ebab9(_0x26f41a,_0x5c440f){return _0x430b47(_0x26f41a,_0x5c440f- -0x3d5);}const _0x472b40=_0x5d4ee9['match'](/[smhdw]/)[0x0];return _0x8d4e0d+_0x4b8fdf*_0x5472b2[_0x472b40];},0x0);}function isValidHttpUrl(_0x349952){function _0x124f5b(_0x371240,_0x154b92){return _0x111204(_0x154b92,_0x371240- -0x153);}try{const _0x1848e6=new URL(_0x349952);return _0x1848e6[_0x124f5b(-0x21,-0x3a)]==='http:'||_0x1848e6['protocol']===_0x124f5b(0x6,-0x7a);}catch(_0x3fb268){return![];}}function _0x52a4(_0x133f85,_0x4bb28b){const _0x1ac74f=_0x1ac7();return _0x52a4=function(_0x52a43d,_0xb888ed){_0x52a43d=_0x52a43d-0x117;let _0x3f6986=_0x1ac74f[_0x52a43d];return _0x3f6986;},_0x52a4(_0x133f85,_0x4bb28b);}function hasSupportRole(_0xc93f80,_0x368404){function _0x9394cd(_0x5c0b66,_0x52af86){return _0x111204(_0x5c0b66,_0x52af86- -0x228);}return _0xc93f80[_0x9394cd(-0xc6,-0xb0)][_0x9394cd(-0xe,-0x9d)]['some'](_0x3a0549=>_0x368404[_0x9394cd(0x23,-0x4d)](_0x3a0549['id']));}function _0x1ac7(){const _0x1a0a70=['workinghours_end_','Panel','SendMessages','View\x20the\x20blacklist\x20reason\x20for\x20a\x20user','Error\x20during\x20channel\x20operations:','Alert\x20has\x20been\x20sent.','getTime','line','\x20to\x20the\x20ticket.','No\x20buttons\x20are\x20enabled\x20for\x20this\x20panel.','Style','userId','protocol','name','This\x20command\x20can\x20only\x20be\x20used\x20within\x20a\x20ticket\x20channel.','Error\x20executing\x20command:','Error\x20fetching\x20ticket\x20stats:','addComponents','Successfully\x20removed\x20','replace','Danger','options','Button','../../../models/blacklist','DefaultPriority','TicketType1','client','Error\x20closing\x20ticket:','Blacklist\x20a\x20user\x20from\x20opening\x20tickets','toLowerCase','subtract','Time','days','Successfully\x20transferred\x20the\x20ticket\x20to\x20','map','Failed\x20to\x20update\x20channel\x20permissions','from','setTitle','An\x20error\x20occurred\x20while\x20removing\x20the\x20user\x20from\x20the\x20ticket.\x20Please\x20try\x20again\x20later.','23647563BNrlsq','WorkingHours','NoPermsMessage','reply','Description','Color','isArray','Enabled','Unnamed\x20Ticket','delete','HH:mm','addSubcommandGroup','https:','white','Primary','Various\x20ticket\x20commands\x20for\x20managing\x20tickets','renderToBuffer','setFooter','../../../models/tickets','addedBy','Timezone','Contact\x20an\x20admin\x20if\x20you\x20need\x20more\x20information.','ticketcreate','getSubcommandGroup','Schedule','open','#00FF00','Footer','replied','Thumbnail','SupportRole','setTimestamp','EmbedLinks','Add\x20a\x20user\x20to\x20the\x20ticket','PrivateThread','panel','editReply','setLabel','setCustomId','ðŸ“‹\x20Blacklist\x20Information','../../../config.yml','Embed','countDocuments','roles','keys',':F>','push','some','Ticket\x20has\x20been\x20transferred\x20to\x20','Emoji','Remove\x20a\x20user\x20from\x20the\x20ticket','1789356SabGgb','setPlaceholder','Reason\x20for\x20blacklisting','Error\x20updating\x20channel\x20permissions:','deleteOne','addUserOption','\x20is\x20not\x20blacklisted.','addStringOption','catch','No\x20Ratings','getString','cache','**<@','alert','fetch','value','Reason','size','Ticket\x20Stats','Name','>**\x20has\x20been\x20removed\x20from\x20the\x20blacklist.','user','error','displayAvatarURL','Error\x20fetching\x20blacklist\x20information:','setThumbnail','Error\x20removing\x20user\x20from\x20blacklist:','GuildVoice','answer','Levels','readFileSync','send','ticketclose-','member','The\x20user\x20to\x20add\x20to\x20the\x20ticket',':t>','setAuthor','An\x20error\x20occurred\x20while\x20renaming\x20the\x20ticket.\x20Please\x20try\x20again\x20later.','setColor','components','reason','add','Manage\x20the\x20blacklist','The\x20user\x20to\x20blacklist','alertTime','Error\x20transferring\x20ticket:','Select\x20a\x20ticket\x20type','minutes','Error\x20during\x20channel\x20rename:','Contact\x20an\x20admin\x20if\x20you\x20believe\x20this\x20is\x20a\x20mistake.','addedAt','rename','setName','Error\x20blacklisting\x20user:','4xKuNNX','2533095AiFJuS','inline','Fields','parent','#FFFFFF','937780fZajMa','close','Error\x20sending\x20reply:','Error\x20sending\x20follow-up:','values','match','Invalid\x20duration\x20format:\x20','guild','findOne','The\x20new\x20name\x20for\x20the\x20ticket\x20channel','base64','ðŸš«\x20User\x20Blacklisted','Invalid\x20subcommand.','find','format','type','everyone','Date','Error\x20renaming\x20ticket:','deferReply','ticketId','Alert','closed','Image','>\x20has\x20been\x20added\x20to\x20the\x20ticket\x20by\x20<@','repeat','tag','channels','remove','workinghours_start_','{time}','includes','members','ReadMessageHistory','length','AttachFiles','The\x20user\x20to\x20remove\x20from\x20the\x20blacklist','An\x20error\x20occurred\x20while\x20adding\x20the\x20user\x20to\x20the\x20ticket.\x20Please\x20try\x20again\x20later.','flatMap','permissionsFor','permissionOverwrites','#FFA500','TicketSettings','transfer','4671108YPkxMh','/5`','Blacklisted\x20By','Temporary\x20voice\x20channel\x20created:\x20','Rename\x20the\x20ticket\x20channel','Do\x20MMM','An\x20error\x20occurred\x20while\x20executing\x20the\x20command.\x20Please\x20try\x20again\x20later.','TicketTypes','getUser','rating','User\x20can\x20now\x20open\x20tickets\x20again.','Alert\x20feature\x20is\x20disabled.','save','87647WBSyVB','setRequired','#FF0000','tickets_graph.png','addOptions','set','../../../lang.yml','seconds','An\x20error\x20occurred\x20while\x20closing\x20the\x20ticket.\x20Please\x20try\x20again\x20later.','embedFields','Successfully\x20added\x20','Title','Failed\x20to\x20move\x20channel','>\x20has\x20been\x20removed\x20from\x20the\x20ticket\x20by\x20<@','has','No\x20ticket\x20types\x20are\x20enabled\x20for\x20this\x20panel.','ticketType','An\x20error\x20occurred\x20while\x20removing\x20the\x20user\x20from\x20the\x20blacklist.\x20Please\x20try\x20again\x20later.','PublicThread','forEach','âœ…\x20User\x20Removed\x20from\x20Blacklist','split','attachment://tickets_graph.png','bold','Send\x20the\x20ticket\x20panel','reduce','moment-timezone','utf8','createdAt','CloseTicketButton','Error\x20sending\x20ticket\x20panel:','unix','voice','setStyle','setImage','Show\x20general\x20ticket\x20stats','An\x20error\x20occurred\x20while\x20sending\x20the\x20alert.\x20Please\x20try\x20again\x20later.','Transfer\x20a\x20ticket\x20to\x20a\x20new\x20type','Priority','Reason\x20for\x20closing\x20the\x20ticket','followUp','-voice','#0099ff','duration','Stats','An\x20error\x20occurred\x20while\x20transferring\x20the\x20ticket.\x20Please\x20try\x20again\x20later.','The\x20new\x20ticket\x20type','../../../events/interactionCreate','addFields','numericRating','Close\x20the\x20current\x20ticket','filter','User\x20is\x20already\x20added\x20to\x20this\x20ticket.',':R>','diff','Author','setDescription','question','\x20from\x20the\x20ticket.','Failed\x20to\x20rename\x20channel','Tickets','Permissions','rgb(255,\x200,\x200)','No\x20reason\x20provided','floor','User\x20is\x20not\x20part\x20of\x20this\x20ticket.','Remove\x20a\x20user\x20from\x20the\x20blacklist','An\x20error\x20occurred\x20while\x20fetching\x20the\x20blacklist\x20information.\x20Please\x20try\x20again\x20later.','load','Administrator','An\x20error\x20occurred\x20while\x20sending\x20the\x20ticket\x20panel.','10anGCJE','deleted','stats','questions','get','Icon','TicketPanelSettings','{user}','view','exports','chartjs-node-canvas','New\x20ticket\x20type\x20not\x20found.','now','addSubcommand','Successfully\x20renamed\x20the\x20ticket\x20to\x20','\x20is\x20already\x20blacklisted.','520zueTCs','deferred','212484FlpopE','GuildText','blacklist','This\x20command\x20has\x20been\x20disabled\x20in\x20the\x20config!','create','CategoryID','An\x20error\x20occurred\x20while\x20creating\x20the\x20voice\x20channel.\x20Please\x20try\x20again\x20later.','setEmoji','channelId','ViewChannel','Text','closedAt','join','toString','<t:','channel','Error\x20moving\x20channel:','Error\x20renaming\x20channel:'];_0x1ac7=function(){return _0x1a0a70;};return _0x1ac7();}function formatDuration(_0x1d338b){const _0x533cb6=moment[_0x16eb87(0x13f,0x1a7)](_0x1d338b),_0x504114=_0x533cb6[_0x16eb87(0x65,-0x2a)]();function _0x16eb87(_0x3ad617,_0xb0438b){return _0x111204(_0xb0438b,_0x3ad617- -0xe1);}const _0x305bcd=_0x533cb6['hours'](),_0x233ee5=_0x533cb6[_0x16eb87(0xce,0x144)](),_0x36d7b0=_0x533cb6[_0x16eb87(0x11b,0xe9)]();if(_0x504114>0x0)return _0x504114+'d\x20'+_0x305bcd+'h\x20'+_0x233ee5+'m';else{if(_0x305bcd>0x0)return _0x305bcd+'h\x20'+_0x233ee5+'m';else return _0x233ee5>0x0?_0x233ee5+'m\x20'+_0x36d7b0+'s':_0x36d7b0+'s';}}async function getUserPriority(_0x52078a){function _0x5ba70f(_0x245bcf,_0x5d7706){return _0x111204(_0x245bcf,_0x5d7706-0x3ad);}const _0x170ce6=config[_0x5ba70f(0x620,0x5c8)];if(!_0x170ce6[_0x5ba70f(0x4ea,0x501)])return _0x170ce6[_0x5ba70f(0x509,0x4eb)];for(const _0x5b8f14 of Object['keys'](_0x170ce6[_0x5ba70f(0x527,0x54a)])){const _0x3f49e2=_0x170ce6[_0x5ba70f(0x543,0x54a)][_0x5b8f14];for(const _0x1c82f4 of _0x3f49e2['Roles']){if(_0x52078a['roles'][_0x5ba70f(0x5c2,0x538)][_0x5ba70f(0x533,0x5b0)](_0x1c82f4))return _0x5b8f14;}}return _0x170ce6[_0x5ba70f(0x494,0x4eb)];}const replacePlaceholders=(_0x2e2938,_0x26faf4)=>{function _0x17aaf9(_0x2bee39,_0x113203){return _0x111204(_0x113203,_0x2bee39- -0x8d);}if(!_0x2e2938)return'';return Object[_0x17aaf9(0xec,0xfc)](_0x26faf4)[_0x17aaf9(0x17b,0xff)](_0x159523=>{function _0x59ad44(_0xe87a69,_0x2581ea){return _0x17aaf9(_0xe87a69- -0x1e6,_0x2581ea);}_0x2e2938=_0x2e2938[_0x59ad44(-0x13a,-0x134)]('{'+_0x159523+'}',_0x26faf4[_0x159523]);}),_0x2e2938;};async function updateChannelPermissions(_0x434d59,_0x400cd1,_0x3aa0ed){function _0x5d3602(_0x351317,_0x2351b8){return _0x111204(_0x2351b8,_0x351317- -0x2fe);}try{const _0x151d6e=[{'id':_0x434d59[_0x5d3602(-0x13b,-0x138)]['roles'][_0x5d3602(-0x132,-0x1a0)]['id'],'deny':[_0x5d3602(-0x1d6,-0x1ab),_0x5d3602(-0x1e1,-0x1b5)]},{'id':_0x3aa0ed,'allow':[_0x5d3602(-0x1d6,-0x1a3),'ViewChannel',_0x5d3602(-0x11f,-0x181),_0x5d3602(-0x191,-0x114),_0x5d3602(-0x121,-0xbf)]}];_0x400cd1['SupportRole'][_0x5d3602(-0xf6,-0xee)](_0x3033c2=>{function _0x21fce8(_0x524563,_0x43bac0){return _0x5d3602(_0x43bac0-0x7d,_0x524563);}const _0x3bb53a=_0x434d59[_0x21fce8(-0x12d,-0xbe)][_0x21fce8(-0xff,-0x109)][_0x21fce8(-0x142,-0xf6)][_0x21fce8(-0x9b,-0x41)](_0x3033c2);_0x3bb53a&&_0x151d6e[_0x21fce8(-0x147,-0x106)]({'id':_0x3bb53a['id'],'allow':[_0x21fce8(-0x153,-0x159),_0x21fce8(-0x1b9,-0x164),_0x21fce8(-0x2b,-0xa2),_0x21fce8(-0x9c,-0x114),_0x21fce8(-0x7c,-0xa4)]});}),await _0x434d59[_0x5d3602(-0x11a,-0x120)][_0x5d3602(-0x104,-0x9e)](_0x151d6e);}catch(_0x30b2ce){console[_0x5d3602(-0x168,-0x15f)](_0x5d3602(-0x17b,-0xe3),_0x30b2ce);throw new Error(_0x5d3602(-0x1b5,-0x1d0));}}async function moveChannel(_0x2018f4,_0x293d26){function _0x221f93(_0x3b5257,_0x1ac1b4){return _0x111204(_0x1ac1b4,_0x3b5257- -0x20b);}try{await _0x2018f4['setParent'](_0x293d26,{'lockPermissions':![]});}catch(_0xb7f057){console[_0x221f93(-0x75,-0xfb)](_0x221f93(-0xe7,-0x9b),_0xb7f057);throw new Error(_0x221f93(-0xa,-0x62));}}async function renameChannel(_0x93c76d,_0x19f78f){function _0x211342(_0x39424c,_0x1c7ae0){return _0x111204(_0x1c7ae0,_0x39424c-0xbe);}try{await _0x93c76d[_0x211342(0x272,0x2af)](_0x19f78f);}catch(_0x4d712f){console[_0x211342(0x254,0x23f)](_0x211342(0x1e3,0x1df),_0x4d712f);throw new Error(_0x211342(0x2ee,0x2cb));}}async function generateTicketsGraph(_0x3e96a0){const _0x20bd80=Array[_0x5ae17b(0x38f,0x370)]({'length':0x7})[_0x5ae17b(0x315,0x36e)]((_0x4a44ae,_0x1c31ae)=>moment()[_0x5ae17b(0x361,0x36a)](_0x1c31ae,_0x5ae17b(0x368,0x36c))[_0x5ae17b(0x3ca,0x3f0)]('Do\x20MMM'))['reverse'](),_0x17c37b=_0x20bd80['map'](_0x15eed4=>_0x3e96a0[_0x5ae17b(0x4bc,0x44e)](_0x7e531a=>moment(_0x7e531a[_0x5ae17b(0x453,0x437)])[_0x5ae17b(0x488,0x3f0)](_0x5ae17b(0x46a,0x413))===_0x15eed4)[_0x5ae17b(0x466,0x404)]),_0x1a5f55=new ChartJSNodeCanvas({'width':0x320,'height':0x190});function _0x5ae17b(_0x4001ab,_0x27d76b){return _0x111204(_0x4001ab,_0x27d76b-0x226);}const _0x24f60d={'type':_0x5ae17b(0x2ca,0x353),'data':{'labels':_0x20bd80,'datasets':[{'label':_0x5ae17b(0x3e9,0x3b8),'data':_0x17c37b,'fill':![],'borderColor':_0x5ae17b(0x4af,0x459),'pointBackgroundColor':'white','pointBorderColor':_0x5ae17b(0x3f9,0x380),'pointRadius':0x5,'pointHoverRadius':0x7,'tension':0.1}]},'options':{'scales':{'x':{'title':{'display':!![],'text':_0x5ae17b(0x3df,0x3f3)},'ticks':{'color':_0x5ae17b(0x442,0x3e1),'font':{'weight':'bold','size':0x16}}},'y':{'title':{'display':![]},'ticks':{'color':_0x5ae17b(0x35d,0x3e1),'font':{'weight':_0x5ae17b(0x400,0x432),'size':0x16}}}}}},_0x3868d0=await _0x1a5f55[_0x5ae17b(0x328,0x383)](_0x24f60d);return _0x3868d0[_0x5ae17b(0x37e,0x347)](_0x5ae17b(0x361,0x3ec));}module[_0x111204(0xc0,0x10b)]={'data':new SlashCommandBuilder()['setName']('tickets')[_0x111204(0x1b4,0x22d)](_0x111204(0x124,0x15c))[_0x111204(0x131,0x10f)](_0x27f18e=>_0x27f18e[_0x111204(0x200,0x1b4)](_0x111204(0x236,0x1a9))[_0x111204(0x1b7,0x22d)](_0x111204(0x199,0x16e))[_0x111204(0x17c,0x185)](_0x54ea60=>_0x54ea60[_0x111204(0x21a,0x1b4)]('user')[_0x111204(0x218,0x22d)](_0x111204(0x18f,0x1a2))[_0x111204(0x1f8,0x1f6)](!![])))['addSubcommand'](_0x1059f9=>_0x1059f9[_0x111204(0x1c5,0x1b4)](_0x111204(0xf1,0x18d))[_0x111204(0x269,0x22d)]('Send\x20an\x20alert\x20about\x20pending\x20ticket\x20closure.'))[_0x111204(0x1f5,0x158)](_0x36bedf=>_0x36bedf[_0x111204(0x244,0x1b4)](_0x111204(0x17b,0x116))[_0x111204(0x1a1,0x22d)](_0x111204(0x1ab,0x1aa))[_0x111204(0x95,0x10f)](_0x5c3b29=>_0x5c3b29['setName'](_0x111204(0x23b,0x1a9))[_0x111204(0x2a4,0x22d)](_0x111204(0x158,0x142))[_0x111204(0x11f,0x185)](_0x318a29=>_0x318a29[_0x111204(0x1a2,0x1b4)](_0x111204(0x1b6,0x195))[_0x111204(0x2c8,0x22d)](_0x111204(0x1de,0x1ab))['setRequired'](!![]))[_0x111204(0x1b1,0x187)](_0xbef553=>_0xbef553['setName'](_0x111204(0x1ce,0x1a8))[_0x111204(0x1a0,0x22d)](_0x111204(0x1be,0x182))[_0x111204(0x1a9,0x1f6)](![])))[_0x111204(0xd1,0x10f)](_0xc33169=>_0xc33169[_0x111204(0x1c6,0x1b4)](_0x111204(0xcd,0x10a))[_0x111204(0x220,0x22d)](_0x111204(0x176,0x129))[_0x111204(0x1b3,0x185)](_0xb50340=>_0xb50340['setName'](_0x111204(0x127,0x195))[_0x111204(0x265,0x22d)]('The\x20user\x20to\x20check')[_0x111204(0x18b,0x1f6)](!![])))['addSubcommand'](_0x3c2729=>_0x3c2729[_0x111204(0x239,0x1b4)](_0x111204(0x263,0x1d8))[_0x111204(0x1e7,0x22d)](_0x111204(0x1c0,0x237))[_0x111204(0x1fb,0x185)](_0xe696c1=>_0xe696c1[_0x111204(0x1ce,0x1b4)](_0x111204(0x12a,0x195))[_0x111204(0x292,0x22d)](_0x111204(0x264,0x1e0))[_0x111204(0x1e8,0x1f6)](!![]))))['addSubcommand'](_0xed7fe9=>_0xed7fe9[_0x111204(0x140,0x1b4)](_0x111204(0x1aa,0x1bd))[_0x111204(0x293,0x22d)](_0x111204(0x27b,0x227))['addStringOption'](_0x3775c3=>_0x3775c3['setName'](_0x111204(0x187,0x1a8))[_0x111204(0x2aa,0x22d)](_0x111204(0x1fa,0x21c))[_0x111204(0x244,0x1f6)](![])))[_0x111204(0xf1,0x10f)](_0x994305=>_0x994305['setName'](_0x111204(0x10f,0x170))[_0x111204(0x26f,0x22d)](_0x111204(0x21b,0x20d))[_0x111204(0x168,0x187)](_0x4764d4=>{_0x4764d4[_0x2ff064(-0x50,-0xd5)](_0x2ff064(-0x81,-0x119))[_0x2ff064(-0x64,-0x5c)]('The\x20panel\x20to\x20display')[_0x2ff064(-0x64,-0x93)](!![]);function _0x2ff064(_0x5129c4,_0x3ff020){return _0x111204(_0x5129c4,_0x3ff020- -0x289);}return Object[_0x2ff064(-0x13e,-0x110)](config['TicketPanelSettings'])[_0x2ff064(-0xb,-0x81)](_0x38c397=>{_0x4764d4['addChoices']({'name':_0x38c397,'value':_0x38c397});}),_0x4764d4;}))[_0x111204(0x156,0x10f)](_0x5124fc=>_0x5124fc['setName'](_0x111204(0x203,0x1d8))[_0x111204(0x22a,0x22d)](_0x111204(0x1cf,0x17f))[_0x111204(0x163,0x185)](_0x439e04=>_0x439e04[_0x111204(0x134,0x1b4)](_0x111204(0x21d,0x195))[_0x111204(0x273,0x22d)]('The\x20user\x20to\x20remove\x20from\x20the\x20ticket')[_0x111204(0x281,0x1f6)](!![])))[_0x111204(0x193,0x10f)](_0x2078e7=>_0x2078e7[_0x111204(0x1b9,0x1b4)](_0x111204(0x162,0x1b3))[_0x111204(0x193,0x22d)](_0x111204(0x1b9,0x1ec))[_0x111204(0x1aa,0x187)](_0x32c595=>_0x32c595[_0x111204(0x1bf,0x1b4)](_0x111204(0x1c4,0x133))[_0x111204(0x288,0x22d)](_0x111204(0x14b,0x1c5))['setRequired'](!![])))[_0x111204(0xc2,0x10f)](_0x55c237=>_0x55c237[_0x111204(0x22e,0x1b4)]('stats')[_0x111204(0x2b9,0x22d)](_0x111204(0x235,0x218)))[_0x111204(0xc8,0x10f)](_0xdf6178=>_0xdf6178[_0x111204(0x160,0x1b4)]('voice')[_0x111204(0x199,0x22d)]('Create\x20a\x20temporary\x20voice\x20channel\x20for\x20the\x20ticket'))[_0x111204(0x8e,0x10f)](_0x1425bd=>_0x1425bd[_0x111204(0x1e4,0x1b4)](_0x111204(0x25e,0x1e7))[_0x111204(0x1d4,0x22d)](_0x111204(0x1e5,0x21a))[_0x111204(0x216,0x187)](_0x3a6c70=>_0x3a6c70[_0x111204(0x212,0x1b4)](_0x111204(0x172,0x1cb))['setDescription'](_0x111204(0x215,0x223))[_0x111204(0x27c,0x1f6)](!![])['addChoices'](Object[_0x111204(0x133,0x179)](config[_0x111204(0x1e3,0x1ef)])[_0x111204(0xc4,0x148)](_0x51101d=>({'name':config[_0x111204(0x164,0x1ef)][_0x51101d][_0x111204(0x145,0x193)],'value':_0x51101d}))))),async 'execute'(_0x3b8f67){function _0x5b7e04(_0x47dddd,_0x2d6e3d){return _0x111204(_0x47dddd,_0x2d6e3d-0x126);}try{const _0x4db557=_0x3b8f67['options']['getSubcommand'](),_0x569b54=_0x3b8f67[_0x5b7e04(0x1ef,0x261)][_0x5b7e04(0x259,0x28a)](![]);if(_0x4db557===_0x5b7e04(0x288,0x2cf)&&!_0x569b54)try{const _0x254951=_0x3b8f67[_0x5b7e04(0x2a5,0x261)][_0x5b7e04(0x2f3,0x316)]('user'),_0x48bb0b=await Ticket['findOne']({'channelId':_0x3b8f67[_0x5b7e04(0x2be,0x249)]['id']});if(!_0x48bb0b)return _0x3b8f67[_0x5b7e04(0x2d5,0x276)]({'content':_0x5b7e04(0x1d1,0x25a),'ephemeral':!![]});const _0x20db0c=config[_0x5b7e04(0x314,0x315)][_0x48bb0b['ticketType']][_0x5b7e04(0x31c,0x291)],_0x1cd723=_0x3b8f67[_0x5b7e04(0x301,0x2c7)][_0x5b7e04(0x314,0x29e)][_0x5b7e04(0x336,0x2b1)]['some'](_0x2db90f=>_0x20db0c[_0x5b7e04(0x391,0x301)](_0x2db90f['id']));if(!_0x1cd723)return _0x3b8f67[_0x5b7e04(0x2de,0x276)]({'content':lang['NoPermsMessage'],'ephemeral':!![]});const _0x11ef09=_0x3b8f67[_0x5b7e04(0x1c1,0x249)];if(_0x11ef09[_0x5b7e04(0x278,0x2f1)]===ChannelType[_0x5b7e04(0x1f9,0x23b)]){const _0x3301f3=_0x11ef09['permissionsFor'](_0x254951);if(_0x3301f3&&_0x3301f3['has'](PermissionFlagsBits[_0x5b7e04(0x2b5,0x243)]))return _0x3b8f67[_0x5b7e04(0x21f,0x276)]({'content':_0x5b7e04(0x36a,0x34f),'ephemeral':!![]});await _0x11ef09[_0x5b7e04(0x380,0x30a)][_0x5b7e04(0x22b,0x23e)](_0x254951,{'ViewChannel':!![],'SendMessages':!![],'ReadMessageHistory':!![],'AttachFiles':!![],'EmbedLinks':!![]});}else{if(_0x11ef09['type']===ChannelType[_0x5b7e04(0x279,0x295)]||_0x11ef09[_0x5b7e04(0x36e,0x2f1)]===ChannelType['PublicThread']){const _0x8ffd63=await _0x11ef09['members']['fetch']();if(_0x8ffd63['has'](_0x254951['id']))return _0x3b8f67[_0x5b7e04(0x29a,0x276)]({'content':_0x5b7e04(0x3a7,0x34f),'ephemeral':!![]});await _0x11ef09[_0x5b7e04(0x2ff,0x302)][_0x5b7e04(0x2e8,0x2cf)](_0x254951);}}const _0x5a609e=new EmbedBuilder()['setColor'](_0x5b7e04(0x244,0x28d))[_0x5b7e04(0x399,0x353)](_0x5b7e04(0x396,0x325)+_0x254951['tag']+_0x5b7e04(0x1d9,0x254));await _0x3b8f67[_0x5b7e04(0x2f7,0x276)]({'embeds':[_0x5a609e],'ephemeral':!![]});const _0x3ad799=new EmbedBuilder()[_0x5b7e04(0x344,0x2cc)](_0x5b7e04(0x2fd,0x28d))[_0x5b7e04(0x3ab,0x353)]('<@'+_0x254951['id']+_0x5b7e04(0x301,0x2fa)+_0x3b8f67[_0x5b7e04(0x29d,0x2bb)]['id']+'>.');await _0x11ef09[_0x5b7e04(0x33d,0x2c5)]({'embeds':[_0x3ad799]});}catch(_0x50b9a1){console[_0x5b7e04(0x231,0x2bc)]('Error\x20adding\x20user\x20to\x20ticket:',_0x50b9a1),await _0x3b8f67[_0x5b7e04(0x2ce,0x276)]({'content':_0x5b7e04(0x30f,0x307),'ephemeral':!![]});}else{if(_0x4db557===_0x5b7e04(0x2e8,0x2b3)&&!_0x569b54)try{const _0x1fbab7=config[_0x5b7e04(0x396,0x315)][_0x5b7e04(0x224,0x265)]['SupportRole'];if(!_0x3b8f67[_0x5b7e04(0x320,0x2c7)][_0x5b7e04(0x2dc,0x29e)][_0x5b7e04(0x27f,0x2b1)][_0x5b7e04(0x289,0x2a2)](_0x4f3da5=>_0x1fbab7[_0x5b7e04(0x364,0x301)](_0x4f3da5['id'])))return _0x3b8f67[_0x5b7e04(0x244,0x276)]({'content':lang[_0x5b7e04(0x250,0x275)],'ephemeral':!![]});if(!config[_0x5b7e04(0x264,0x2f7)][_0x5b7e04(0x235,0x27a)])return _0x3b8f67[_0x5b7e04(0x267,0x276)]({'content':_0x5b7e04(0x340,0x319),'ephemeral':!![]});const _0x35c361=await Ticket[_0x5b7e04(0x2bc,0x2ea)]({'channelId':_0x3b8f67[_0x5b7e04(0x2c8,0x249)]['id']});if(!_0x35c361)return _0x3b8f67['reply']({'content':'This\x20command\x20can\x20only\x20be\x20used\x20in\x20ticket\x20channels.','ephemeral':!![]});const _0x315af5=config[_0x5b7e04(0x347,0x2f7)][_0x5b7e04(0x2a4,0x26b)],_0x13cd09=parseDuration(_0x315af5),_0x3101d8=new Date(Date[_0x5b7e04(0x1ae,0x234)]()+_0x13cd09),_0x5717ab=_0x5b7e04(0x275,0x248)+Math[_0x5b7e04(0x39b,0x35b)](_0x3101d8[_0x5b7e04(0x252,0x252)]()/0x3e8)+_0x5b7e04(0x300,0x350);_0x35c361[_0x5b7e04(0x30a,0x2d2)]=_0x3101d8,await _0x35c361[_0x5b7e04(0x344,0x31a)]();const _0x28a2e5=config[_0x5b7e04(0x320,0x2f7)]['Embed'],_0x2cf57a=new EmbedBuilder()['setDescription'](_0x28a2e5[_0x5b7e04(0x26f,0x277)][_0x5b7e04(0x240,0x246)]('\x0a')[_0x5b7e04(0x2f2,0x25f)](_0x5b7e04(0x3d2,0x369),'<@'+_0x35c361[_0x5b7e04(0x207,0x257)]+'>')[_0x5b7e04(0x25d,0x25f)](_0x5b7e04(0x265,0x300),_0x5717ab));if(_0x28a2e5[_0x5b7e04(0x342,0x326)])_0x2cf57a[_0x5b7e04(0x1eb,0x271)](_0x28a2e5[_0x5b7e04(0x382,0x326)]);if(_0x28a2e5[_0x5b7e04(0x1f1,0x278)])_0x2cf57a['setColor'](_0x28a2e5['Color']);_0x28a2e5[_0x5b7e04(0x2bb,0x28e)]&&_0x28a2e5['Footer'][_0x5b7e04(0x1ff,0x244)]&&_0x2cf57a[_0x5b7e04(0x248,0x284)]({'text':_0x28a2e5[_0x5b7e04(0x2b6,0x28e)][_0x5b7e04(0x1bc,0x244)],'iconURL':_0x28a2e5[_0x5b7e04(0x2d9,0x28e)][_0x5b7e04(0x3a6,0x367)]||null});if(_0x28a2e5['Image'])_0x2cf57a[_0x5b7e04(0x320,0x33d)](_0x28a2e5[_0x5b7e04(0x383,0x2f9)]);if(_0x28a2e5[_0x5b7e04(0x2c7,0x290)])_0x2cf57a[_0x5b7e04(0x257,0x2bf)](_0x28a2e5[_0x5b7e04(0x2c2,0x290)]);const _0x503af0=new ButtonBuilder()['setCustomId'](_0x5b7e04(0x356,0x2c6)+_0x35c361[_0x5b7e04(0x284,0x2f6)])[_0x5b7e04(0x2a3,0x298)](lang[_0x5b7e04(0x3a4,0x357)][_0x5b7e04(0x319,0x338)])[_0x5b7e04(0x2dc,0x33c)](ButtonStyle[_0x5b7e04(0x2b1,0x260)])['setEmoji']('ðŸ”’'),_0x42b68f=new ActionRowBuilder()[_0x5b7e04(0x2eb,0x25d)](_0x503af0),_0x3cfeda=await _0x3b8f67['channel']['send']('<@'+_0x35c361['userId']+'>'),_0x4fb424=await _0x3b8f67[_0x5b7e04(0x2bf,0x249)][_0x5b7e04(0x347,0x2c5)]({'embeds':[_0x2cf57a],'components':[_0x42b68f]});await _0x3b8f67[_0x5b7e04(0x268,0x276)]({'content':_0x5b7e04(0x1cd,0x251),'ephemeral':!![]}),setTimeout(()=>_0x3cfeda[_0x5b7e04(0x2f4,0x27c)](),0x1f4),_0x35c361['alertMessageId']=_0x4fb424['id'],await _0x35c361[_0x5b7e04(0x2fa,0x31a)]();}catch(_0x295b44){console[_0x5b7e04(0x2c2,0x2bc)]('Error\x20sending\x20alert:',_0x295b44),await _0x3b8f67['reply']({'content':_0x5b7e04(0x3cf,0x33f),'ephemeral':!![]});}else{if(_0x569b54===_0x5b7e04(0x242,0x23c)){if(_0x4db557===_0x5b7e04(0x329,0x2cf))try{const _0x396b06=_0x3b8f67[_0x5b7e04(0x281,0x261)]['getUser'](_0x5b7e04(0x279,0x2bb)),_0xf7d808=_0x3b8f67[_0x5b7e04(0x2dd,0x261)]['getString'](_0x5b7e04(0x27a,0x2ce))||_0x5b7e04(0x2cf,0x35a),_0x4d4ddd=config['Permissions'][_0x5b7e04(0x28c,0x23c)],_0x48f9de=_0x3b8f67['member'][_0x5b7e04(0x2a7,0x29e)][_0x5b7e04(0x324,0x2b1)][_0x5b7e04(0x226,0x2a2)](_0x34121c=>_0x4d4ddd[_0x5b7e04(0x29e,0x301)](_0x34121c['id']));if(!_0x48f9de)return _0x3b8f67[_0x5b7e04(0x1ee,0x276)]({'content':lang[_0x5b7e04(0x2d7,0x275)],'ephemeral':!![]});const _0x4d2e0d=await Blacklist[_0x5b7e04(0x310,0x2ea)]({'userId':_0x396b06['id']});if(_0x4d2e0d)return _0x3b8f67[_0x5b7e04(0x2e1,0x276)]({'content':_0x396b06[_0x5b7e04(0x2c2,0x2fc)]+_0x5b7e04(0x1e9,0x237),'ephemeral':!![]});const _0x4282fd=new Blacklist({'userId':_0x396b06['id'],'addedBy':_0x3b8f67['user']['id'],'addedAt':new Date(),'reason':_0xf7d808});await _0x4282fd[_0x5b7e04(0x385,0x31a)]();const _0x137e8d=new EmbedBuilder()[_0x5b7e04(0x2d8,0x2cc)](_0x5b7e04(0x32f,0x31d))[_0x5b7e04(0x2b5,0x271)](_0x5b7e04(0x2dc,0x2ed))[_0x5b7e04(0x347,0x353)](_0x5b7e04(0x345,0x2b2)+_0x396b06['id']+'>**\x20has\x20been\x20blacklisted\x20from\x20opening\x20tickets.')[_0x5b7e04(0x2c1,0x34b)]({'name':'Reason','value':_0xf7d808,'inline':![]},{'name':_0x5b7e04(0x2ea,0x310),'value':'<@'+_0x3b8f67[_0x5b7e04(0x2f9,0x2bb)]['id']+'>','inline':!![]},{'name':_0x5b7e04(0x27f,0x2f3),'value':'<t:'+Math['floor'](new Date(_0x4282fd[_0x5b7e04(0x317,0x2d8)])[_0x5b7e04(0x1dd,0x252)]()/0x3e8)+_0x5b7e04(0x2e4,0x2a0),'inline':!![]})[_0x5b7e04(0x283,0x2bf)](_0x396b06[_0x5b7e04(0x32f,0x2bd)]({'dynamic':!![]}))['setFooter']({'text':_0x5b7e04(0x2c2,0x2d7)});await _0x3b8f67[_0x5b7e04(0x1e2,0x276)]({'embeds':[_0x137e8d],'ephemeral':!![]});}catch(_0x3d1809){console[_0x5b7e04(0x2bc,0x2bc)](_0x5b7e04(0x36e,0x2db),_0x3d1809),await _0x3b8f67[_0x5b7e04(0x2e0,0x276)]({'content':'An\x20error\x20occurred\x20while\x20blacklisting\x20the\x20user.\x20Please\x20try\x20again\x20later.','ephemeral':!![]});}else{if(_0x4db557===_0x5b7e04(0x354,0x2fe)&&_0x569b54===_0x5b7e04(0x2d0,0x23c))try{const _0x5b9e15=_0x3b8f67[_0x5b7e04(0x267,0x261)]['getUser'](_0x5b7e04(0x2bd,0x2bb)),_0x3b05eb=config[_0x5b7e04(0x3c0,0x358)][_0x5b7e04(0x1c6,0x23c)],_0x25d3d0=_0x3b8f67['member']['roles'][_0x5b7e04(0x331,0x2b1)]['some'](_0x127286=>_0x3b05eb[_0x5b7e04(0x33f,0x301)](_0x127286['id']));if(!_0x25d3d0)return _0x3b8f67[_0x5b7e04(0x254,0x276)]({'content':lang[_0x5b7e04(0x2b3,0x275)],'ephemeral':!![]});const _0x2371e7=await Blacklist[_0x5b7e04(0x2c1,0x2ea)]({'userId':_0x5b9e15['id']});if(!_0x2371e7)return _0x3b8f67[_0x5b7e04(0x2dd,0x276)]({'content':_0x5b9e15[_0x5b7e04(0x286,0x2fc)]+'\x20is\x20not\x20blacklisted.','ephemeral':!![]});await Blacklist[_0x5b7e04(0x264,0x2aa)]({'userId':_0x5b9e15['id']});const _0x4c2c4f=new EmbedBuilder()[_0x5b7e04(0x328,0x2cc)](_0x5b7e04(0x27d,0x28d))[_0x5b7e04(0x2a0,0x271)](_0x5b7e04(0x32f,0x32f))[_0x5b7e04(0x381,0x353)](_0x5b7e04(0x283,0x2b2)+_0x5b9e15['id']+_0x5b7e04(0x227,0x2ba))[_0x5b7e04(0x256,0x284)]({'text':_0x5b7e04(0x33b,0x318)});await _0x3b8f67[_0x5b7e04(0x230,0x276)]({'embeds':[_0x4c2c4f],'ephemeral':!![]});}catch(_0x465dc3){console[_0x5b7e04(0x2ef,0x2bc)](_0x5b7e04(0x2f1,0x2c0),_0x465dc3),await _0x3b8f67[_0x5b7e04(0x1fc,0x276)]({'content':_0x5b7e04(0x399,0x32c),'ephemeral':!![]});}else{if(_0x4db557==='view')try{const _0x4de010=_0x3b8f67[_0x5b7e04(0x297,0x261)][_0x5b7e04(0x2ce,0x316)](_0x5b7e04(0x285,0x2bb)),_0x49b263=config[_0x5b7e04(0x3db,0x358)][_0x5b7e04(0x1f8,0x23c)],_0x341653=_0x3b8f67[_0x5b7e04(0x339,0x2c7)][_0x5b7e04(0x27f,0x29e)][_0x5b7e04(0x335,0x2b1)][_0x5b7e04(0x24a,0x2a2)](_0x4a68db=>_0x49b263['includes'](_0x4a68db['id']));if(!_0x341653)return _0x3b8f67[_0x5b7e04(0x28e,0x276)]({'content':lang['NoPermsMessage'],'ephemeral':!![]});const _0x1c3cbe=await Blacklist['findOne']({'userId':_0x4de010['id']});if(!_0x1c3cbe)return _0x3b8f67['reply']({'content':_0x4de010['tag']+_0x5b7e04(0x328,0x2ac),'ephemeral':!![]});const _0x5163a9=new EmbedBuilder()['setColor'](_0x5b7e04(0x2e5,0x30b))['setTitle'](_0x5b7e04(0x222,0x29a))[_0x5b7e04(0x2f5,0x34b)]({'name':'User','value':'<@'+_0x1c3cbe[_0x5b7e04(0x1d9,0x257)]+'>','inline':!![]},{'name':_0x5b7e04(0x354,0x310),'value':'<@'+_0x1c3cbe[_0x5b7e04(0x2fa,0x286)]+'>','inline':!![]},{'name':_0x5b7e04(0x22f,0x2b6),'value':_0x1c3cbe[_0x5b7e04(0x2d9,0x2ce)],'inline':![]},{'name':_0x5b7e04(0x2e7,0x2f3),'value':_0x5b7e04(0x20c,0x248)+Math[_0x5b7e04(0x3c7,0x35b)](new Date(_0x1c3cbe[_0x5b7e04(0x30f,0x2d8)])[_0x5b7e04(0x23a,0x252)]()/0x3e8)+_0x5b7e04(0x21b,0x2a0),'inline':!![]})['setThumbnail'](_0x4de010[_0x5b7e04(0x302,0x2bd)]({'dynamic':!![]}))['setFooter']({'text':_0x5b7e04(0x254,0x288)});await _0x3b8f67[_0x5b7e04(0x28e,0x276)]({'embeds':[_0x5163a9],'ephemeral':!![]});}catch(_0x50f103){console[_0x5b7e04(0x34a,0x2bc)](_0x5b7e04(0x255,0x2be),_0x50f103),await _0x3b8f67['reply']({'content':_0x5b7e04(0x33b,0x35e),'ephemeral':!![]});}else{if(_0x4db557===_0x5b7e04(0x34f,0x2fe)&&!_0x569b54)try{const _0xdc22bb=_0x3b8f67[_0x5b7e04(0x2cc,0x261)][_0x5b7e04(0x352,0x316)](_0x5b7e04(0x25d,0x2bb)),_0x37d484=await Ticket['findOne']({'channelId':_0x3b8f67[_0x5b7e04(0x271,0x249)]['id']});if(!_0x37d484)return _0x3b8f67['reply']({'content':_0x5b7e04(0x2ac,0x25a),'ephemeral':!![]});const _0x25797f=config['TicketTypes'][_0x37d484[_0x5b7e04(0x3b0,0x32b)]][_0x5b7e04(0x293,0x291)],_0x3435f9=_0x3b8f67[_0x5b7e04(0x265,0x2c7)][_0x5b7e04(0x210,0x29e)][_0x5b7e04(0x31c,0x2b1)][_0x5b7e04(0x327,0x2a2)](_0x5d5feb=>_0x25797f['includes'](_0x5d5feb['id']));if(!_0x3435f9)return _0x3b8f67['reply']({'content':lang[_0x5b7e04(0x2bc,0x275)],'ephemeral':!![]});const _0x46f781=_0x3b8f67[_0x5b7e04(0x1fd,0x249)];if(_0x46f781[_0x5b7e04(0x35d,0x2f1)]===ChannelType['GuildText']){const _0x37785f=_0x46f781[_0x5b7e04(0x2d5,0x309)](_0xdc22bb);if(!_0x37785f||!_0x37785f[_0x5b7e04(0x2dd,0x329)](PermissionFlagsBits[_0x5b7e04(0x2b5,0x243)]))return _0x3b8f67['reply']({'content':'User\x20is\x20not\x20part\x20of\x20this\x20ticket.','ephemeral':!![]});await _0x46f781[_0x5b7e04(0x30b,0x30a)][_0x5b7e04(0x1fd,0x27c)](_0xdc22bb);}else{if(_0x46f781[_0x5b7e04(0x2be,0x2f1)]===ChannelType[_0x5b7e04(0x24c,0x295)]||_0x46f781[_0x5b7e04(0x284,0x2f1)]===ChannelType[_0x5b7e04(0x37a,0x32d)]){const _0x374454=await _0x46f781['members'][_0x5b7e04(0x28a,0x2b4)]();if(!_0x374454[_0x5b7e04(0x293,0x329)](_0xdc22bb['id']))return _0x3b8f67[_0x5b7e04(0x209,0x276)]({'content':_0x5b7e04(0x35e,0x35c),'ephemeral':!![]});await _0x46f781['members']['remove'](_0xdc22bb);}}const _0x5be5cb=new EmbedBuilder()[_0x5b7e04(0x2c5,0x2cc)](_0x5b7e04(0x343,0x31d))[_0x5b7e04(0x333,0x353)](_0x5b7e04(0x298,0x25e)+_0xdc22bb[_0x5b7e04(0x37f,0x2fc)]+_0x5b7e04(0x34c,0x355));await _0x3b8f67[_0x5b7e04(0x2d1,0x276)]({'embeds':[_0x5be5cb],'ephemeral':!![]});const _0x5776da=new EmbedBuilder()[_0x5b7e04(0x2db,0x2cc)]('#FF0000')[_0x5b7e04(0x3cb,0x353)]('<@'+_0xdc22bb['id']+_0x5b7e04(0x3c4,0x328)+_0x3b8f67['user']['id']+'>.');await _0x46f781[_0x5b7e04(0x30d,0x2c5)]({'embeds':[_0x5776da]});}catch(_0x4008c2){console['error']('Error\x20removing\x20user\x20from\x20ticket:',_0x4008c2),await _0x3b8f67[_0x5b7e04(0x237,0x276)]({'content':'An\x20error\x20occurred\x20while\x20removing\x20the\x20user\x20from\x20the\x20ticket.\x20Please\x20try\x20again\x20later.','ephemeral':!![]});}}}}}else{if(_0x4db557===_0x5b7e04(0x247,0x296)&&!_0x569b54)try{if(!config[_0x5b7e04(0x2ef,0x30c)]?.[_0x5b7e04(0x236,0x27a)])return _0x3b8f67[_0x5b7e04(0x24f,0x276)]({'content':_0x5b7e04(0x1d7,0x23d),'ephemeral':!![]});if(!_0x3b8f67[_0x5b7e04(0x2c1,0x2c7)]['permissions']['has'](PermissionFlagsBits[_0x5b7e04(0x3fa,0x360)]))return _0x3b8f67[_0x5b7e04(0x1eb,0x276)]({'content':lang[_0x5b7e04(0x242,0x275)],'ephemeral':!![]});const _0x7a3e33=_0x3b8f67['options'][_0x5b7e04(0x283,0x2b0)](_0x5b7e04(0x262,0x296)),_0x64fe4c=config[_0x5b7e04(0x3da,0x368)][_0x7a3e33];if(!_0x64fe4c)return _0x3b8f67[_0x5b7e04(0x27e,0x276)]({'content':'Invalid\x20panel\x20selected!','ephemeral':!![]});const _0x384369=_0x64fe4c[_0x5b7e04(0x31f,0x29c)],_0x1fda14=moment()['tz'](config[_0x5b7e04(0x259,0x274)][_0x5b7e04(0x1ec,0x287)]),_0x5efba8={};Object[_0x5b7e04(0x241,0x29f)](config[_0x5b7e04(0x286,0x274)][_0x5b7e04(0x2e2,0x28b)])[_0x5b7e04(0x2f7,0x32e)](_0x3e9120=>{const [_0x10b44a,_0x5aedf0]=config[_0x23881e(0x46a,0x43e)][_0x23881e(0x3cb,0x455)][_0x3e9120][_0x23881e(0x48f,0x4fa)]('-');_0x5efba8[_0x23881e(0x4ee,0x4c9)+_0x3e9120[_0x23881e(0x47b,0x433)]()]=_0x23881e(0x444,0x412)+moment['tz'](_0x10b44a,_0x23881e(0x3be,0x447),config[_0x23881e(0x4b7,0x43e)][_0x23881e(0x418,0x451)])[_0x23881e(0x514,0x504)]()+_0x23881e(0x4ff,0x493);function _0x23881e(_0x1ed000,_0x447a7b){return _0x5b7e04(_0x1ed000,_0x447a7b-0x1ca);}_0x5efba8[_0x23881e(0x3e6,0x416)+_0x3e9120[_0x23881e(0x3d9,0x433)]()]='<t:'+moment['tz'](_0x5aedf0,_0x23881e(0x4a5,0x447),config[_0x23881e(0x42c,0x43e)][_0x23881e(0x435,0x451)])[_0x23881e(0x51f,0x504)]()+_0x23881e(0x49c,0x493);});const _0x499e1f={..._0x5efba8},_0x24e372=new EmbedBuilder()[_0x5b7e04(0x274,0x2cc)](_0x384369[_0x5b7e04(0x286,0x278)]||_0x5b7e04(0x355,0x345))[_0x5b7e04(0x2df,0x353)](replacePlaceholders((_0x384369[_0x5b7e04(0x312,0x277)]||[])[_0x5b7e04(0x29b,0x246)]('\x0a'),_0x499e1f));_0x384369['Title']&&_0x24e372[_0x5b7e04(0x21c,0x271)](replacePlaceholders(_0x384369[_0x5b7e04(0x319,0x326)],_0x499e1f));(_0x384369[_0x5b7e04(0x28e,0x28e)]?.[_0x5b7e04(0x269,0x244)]||_0x384369[_0x5b7e04(0x292,0x28e)]?.[_0x5b7e04(0x302,0x367)])&&_0x24e372[_0x5b7e04(0x259,0x284)]({'text':replacePlaceholders(_0x384369[_0x5b7e04(0x2a3,0x28e)]['Text']||'',_0x499e1f),'iconURL':_0x384369[_0x5b7e04(0x232,0x28e)]['Icon']||null});(_0x384369[_0x5b7e04(0x2da,0x352)]?.['Text']||_0x384369[_0x5b7e04(0x30a,0x352)]?.[_0x5b7e04(0x2ff,0x367)])&&_0x24e372[_0x5b7e04(0x24b,0x2ca)]({'name':replacePlaceholders(_0x384369[_0x5b7e04(0x3b3,0x352)]['Text']||'',_0x499e1f),'iconURL':_0x384369[_0x5b7e04(0x381,0x352)]['Icon']||null});if(isValidHttpUrl(_0x384369['Image']))_0x24e372['setImage'](_0x384369[_0x5b7e04(0x2a6,0x2f9)]);if(isValidHttpUrl(_0x384369[_0x5b7e04(0x201,0x290)]))_0x24e372[_0x5b7e04(0x281,0x2bf)](_0x384369['Thumbnail']);_0x384369[_0x5b7e04(0x357,0x324)]&&Array[_0x5b7e04(0x20a,0x279)](_0x384369[_0x5b7e04(0x2e5,0x324)])&&_0x384369['embedFields'][_0x5b7e04(0x2ce,0x32e)](_0x4dad99=>{const _0x5d58b5=replacePlaceholders(_0x4dad99[_0x80f887(-0x1f,-0xba)],_0x499e1f),_0x457803=replacePlaceholders(_0x4dad99[_0x80f887(-0xae,-0x5e)],_0x499e1f);function _0x80f887(_0x23ec01,_0x4f2f72){return _0x5b7e04(_0x23ec01,_0x4f2f72- -0x313);}_0x5d58b5&&_0x457803&&_0x24e372[_0x80f887(-0xa,0x38)]({'name':_0x5d58b5,'value':_0x457803,'inline':_0x4dad99[_0x80f887(-0x67,-0x35)]||![]});});const {useSelectMenu:_0x5f1cc5}=config[_0x5b7e04(0x3a4,0x30c)],_0x524f04=[];let _0x415248=new ActionRowBuilder();if(_0x5f1cc5){const _0x4611da=new StringSelectMenuBuilder()[_0x5b7e04(0x23c,0x299)](_0x5b7e04(0x326,0x289))[_0x5b7e04(0x307,0x2a7)](_0x5b7e04(0x2f9,0x2d4));Object['keys'](config[_0x5b7e04(0x2c7,0x315)])[_0x5b7e04(0x2df,0x32e)](_0x3225aa=>{const _0x31097d=config[_0xb3cc4a(0x2eb,0x2f0)][_0x3225aa];function _0xb3cc4a(_0x21b12c,_0x7b37c7){return _0x5b7e04(_0x7b37c7,_0x21b12c- -0x2a);}_0x31097d['Enabled']&&_0x31097d[_0xb3cc4a(0x223,0x1d9)]===_0x7a3e33&&_0x4611da[_0xb3cc4a(0x2f5,0x27c)]({'label':replacePlaceholders(_0x31097d[_0xb3cc4a(0x238,0x214)][_0xb3cc4a(0x28f,0x28d)]||'Unnamed\x20Ticket',_0x499e1f),'emoji':_0x31097d[_0xb3cc4a(0x238,0x2a7)]['Emoji']||'','value':_0x3225aa,'description':replacePlaceholders(_0x31097d['Button'][_0xb3cc4a(0x24d,0x2aa)]||'',_0x499e1f)});});if(_0x4611da[_0x5b7e04(0x272,0x261)][_0x5b7e04(0x305,0x304)]>0x0)_0x415248[_0x5b7e04(0x295,0x25d)](_0x4611da),_0x524f04[_0x5b7e04(0x2aa,0x2a1)](_0x415248);else throw new Error(_0x5b7e04(0x37f,0x32a));}else{Object[_0x5b7e04(0x2b7,0x29f)](config[_0x5b7e04(0x27e,0x315)])[_0x5b7e04(0x2a2,0x32e)](_0x1773cc=>{const _0x57ff4d=config['TicketTypes'][_0x1773cc];function _0x50fd7f(_0xdae1be,_0x55b210){return _0x5b7e04(_0xdae1be,_0x55b210- -0x148);}if(_0x57ff4d[_0x50fd7f(0x194,0x132)]&&_0x57ff4d['Panel']===_0x7a3e33){const _0x4b5eae=ButtonStyle[_0x57ff4d[_0x50fd7f(0x9a,0x11a)][_0x50fd7f(0x19a,0x10e)]['toUpperCase']()]||ButtonStyle[_0x50fd7f(0x110,0x139)];_0x415248[_0x50fd7f(0x12f,0x115)](new ButtonBuilder()[_0x50fd7f(0xe1,0x151)]('ticketcreate-'+_0x1773cc)[_0x50fd7f(0x1d6,0x150)](replacePlaceholders(_0x57ff4d[_0x50fd7f(0xff,0x11a)]['Name']||_0x50fd7f(0xbc,0x133),_0x499e1f))[_0x50fd7f(0xc7,0xf9)](_0x57ff4d['Button'][_0x50fd7f(0xd7,0x15c)]||'')[_0x50fd7f(0x1f7,0x1f4)](_0x4b5eae)),_0x415248[_0x50fd7f(0x19b,0x185)][_0x50fd7f(0x140,0x1bc)]===0x5&&(_0x524f04[_0x50fd7f(0x136,0x159)](_0x415248),_0x415248=new ActionRowBuilder());}});_0x415248[_0x5b7e04(0x334,0x2cd)]['length']>0x0&&_0x524f04['push'](_0x415248);if(_0x524f04[_0x5b7e04(0x397,0x304)]===0x0)throw new Error(_0x5b7e04(0x2b2,0x255));}await _0x3b8f67[_0x5b7e04(0x262,0x276)]({'content':'Ticket\x20panel\x20sent!','ephemeral':!![]}),await _0x3b8f67[_0x5b7e04(0x22b,0x249)][_0x5b7e04(0x249,0x2c5)]({'embeds':[_0x24e372],'components':_0x524f04});}catch(_0x2ba421){console[_0x5b7e04(0x337,0x2bc)](_0x5b7e04(0x35e,0x339),_0x2ba421),!_0x3b8f67[_0x5b7e04(0x2b1,0x28f)]&&!_0x3b8f67[_0x5b7e04(0x1dd,0x239)]?await _0x3b8f67[_0x5b7e04(0x254,0x276)]({'content':_0x5b7e04(0x332,0x361),'ephemeral':!![]})['catch'](_0x42d0a2=>console[_0x5b7e04(0x357,0x2bc)](_0x5b7e04(0x326,0x2e4),_0x42d0a2)):await _0x3b8f67[_0x5b7e04(0x3dd,0x343)]({'content':_0x5b7e04(0x33a,0x361),'ephemeral':!![]})[_0x5b7e04(0x315,0x2ae)](_0xff537c=>console[_0x5b7e04(0x253,0x2bc)](_0x5b7e04(0x275,0x2e5),_0xff537c));}else{if(_0x4db557===_0x5b7e04(0x321,0x33b)&&!_0x569b54)try{const _0xfa8221=await Ticket[_0x5b7e04(0x303,0x2ea)]({'channelId':_0x3b8f67[_0x5b7e04(0x2ce,0x249)]['id']});if(!_0xfa8221)return _0x3b8f67[_0x5b7e04(0x261,0x276)]({'content':_0x5b7e04(0x2ab,0x25a),'ephemeral':!![]});const _0xe40328=config['TicketTypes'][_0xfa8221[_0x5b7e04(0x389,0x32b)]][_0x5b7e04(0x2e1,0x291)],_0x1d85d1=_0x3b8f67[_0x5b7e04(0x278,0x2c7)][_0x5b7e04(0x23f,0x29e)][_0x5b7e04(0x281,0x2b1)][_0x5b7e04(0x25b,0x2a2)](_0x4a2b25=>_0xe40328[_0x5b7e04(0x36f,0x301)](_0x4a2b25['id']));if(!_0x1d85d1)return _0x3b8f67['reply']({'content':lang[_0x5b7e04(0x265,0x275)],'ephemeral':!![]});const _0x53fbe1=await _0x3b8f67[_0x5b7e04(0x37c,0x2e9)][_0x5b7e04(0x2c0,0x2fd)]['create']({'name':_0x3b8f67[_0x5b7e04(0x2dd,0x249)][_0x5b7e04(0x2b7,0x259)]+_0x5b7e04(0x321,0x344),'type':ChannelType[_0x5b7e04(0x259,0x2c1)],'parent':_0x3b8f67['channel'][_0x5b7e04(0x2a5,0x2e0)]});await _0x53fbe1['permissionOverwrites'][_0x5b7e04(0x1f3,0x23e)](_0x3b8f67['guild'][_0x5b7e04(0x21f,0x29e)]['everyone'],{'ViewChannel':![]}),await _0x53fbe1['permissionOverwrites'][_0x5b7e04(0x1b6,0x23e)](_0x3b8f67['user']['id'],{'ViewChannel':!![],'Connect':!![],'Speak':!![]});for(const _0x52454b of _0xe40328){const _0x14608b=await _0x3b8f67[_0x5b7e04(0x329,0x2e9)]['roles'][_0x5b7e04(0x2b2,0x2b4)](_0x52454b);_0x14608b&&await _0x53fbe1[_0x5b7e04(0x36b,0x30a)][_0x5b7e04(0x297,0x23e)](_0x14608b,{'ViewChannel':!![],'Connect':!![],'Speak':!![]});}await _0x3b8f67[_0x5b7e04(0x2c9,0x276)]({'content':_0x5b7e04(0x2d3,0x311)+_0x53fbe1,'ephemeral':!![]});const _0x24c794=async()=>{function _0x2545a5(_0x2d0ddc,_0x33c830){return _0x5b7e04(_0x2d0ddc,_0x33c830- -0xea);}const _0x13997f=await _0x3b8f67['guild'][_0x2545a5(0x24c,0x213)][_0x2545a5(0x24e,0x1ca)](_0x53fbe1['id']);_0x13997f&&_0x13997f[_0x2545a5(0x246,0x218)][_0x2545a5(0x1aa,0x1cd)]===0x0&&setTimeout(async()=>{function _0x10d9ee(_0x56b90b,_0x592a2b){return _0x2545a5(_0x592a2b,_0x56b90b-0x7c);}const _0x98852f=await _0x3b8f67[_0x10d9ee(0x27b,0x24c)][_0x10d9ee(0x28f,0x2f8)][_0x10d9ee(0x246,0x22a)](_0x53fbe1['id']);_0x98852f&&_0x98852f['members'][_0x10d9ee(0x249,0x203)]===0x0&&await _0x98852f[_0x10d9ee(0x20e,0x203)]();},0x249f0);};_0x3b8f67[_0x5b7e04(0x27e,0x266)]['on']('voiceStateUpdate',(_0x1c2b6f,_0x115bad)=>{function _0x4f8f28(_0xd5773c,_0x1283c1){return _0x5b7e04(_0x1283c1,_0xd5773c-0x120);}(_0x1c2b6f[_0x4f8f28(0x362,0x31d)]===_0x53fbe1['id']||_0x115bad[_0x4f8f28(0x362,0x338)]===_0x53fbe1['id'])&&_0x24c794();}),_0x24c794();}catch(_0x2846a2){console[_0x5b7e04(0x2e0,0x2bc)]('Error\x20creating\x20voice\x20channel:',_0x2846a2),await _0x3b8f67[_0x5b7e04(0x2b1,0x276)]({'content':_0x5b7e04(0x267,0x240),'ephemeral':!![]});}else{if(_0x4db557===_0x5b7e04(0x310,0x2fe)&&!_0x569b54)try{const _0x2aa079=_0x3b8f67[_0x5b7e04(0x298,0x261)][_0x5b7e04(0x2d9,0x316)](_0x5b7e04(0x34e,0x2bb)),_0x3e4bae=await Ticket[_0x5b7e04(0x300,0x2ea)]({'channelId':_0x3b8f67['channel']['id']});if(!_0x3e4bae)return _0x3b8f67[_0x5b7e04(0x2dc,0x276)]({'content':_0x5b7e04(0x2ad,0x25a),'ephemeral':!![]});const _0xfb819b=config[_0x5b7e04(0x383,0x315)][_0x3e4bae[_0x5b7e04(0x382,0x32b)]][_0x5b7e04(0x260,0x291)],_0x248b07=_0x3b8f67['member'][_0x5b7e04(0x2fd,0x29e)][_0x5b7e04(0x23f,0x2b1)]['some'](_0x538d84=>_0xfb819b['includes'](_0x538d84['id']));if(!_0x248b07)return _0x3b8f67[_0x5b7e04(0x2bd,0x276)]({'content':lang['NoPermsMessage'],'ephemeral':!![]});const _0x19e8b4=_0x3b8f67[_0x5b7e04(0x286,0x249)];if(_0x19e8b4[_0x5b7e04(0x2d4,0x2f1)]===ChannelType[_0x5b7e04(0x2a6,0x23b)]){const _0x354044=_0x19e8b4['permissionsFor'](_0x2aa079);if(!_0x354044||!_0x354044[_0x5b7e04(0x2f2,0x329)](PermissionFlagsBits[_0x5b7e04(0x1eb,0x243)]))return _0x3b8f67['reply']({'content':'User\x20is\x20not\x20part\x20of\x20this\x20ticket.','ephemeral':!![]});await _0x19e8b4['permissionOverwrites'][_0x5b7e04(0x294,0x27c)](_0x2aa079);}else{if(_0x19e8b4[_0x5b7e04(0x293,0x2f1)]===ChannelType['PrivateThread']||_0x19e8b4['type']===ChannelType[_0x5b7e04(0x39a,0x32d)]){const _0x3caca2=await _0x19e8b4[_0x5b7e04(0x377,0x302)][_0x5b7e04(0x27f,0x2b4)]();if(!_0x3caca2[_0x5b7e04(0x2b0,0x329)](_0x2aa079['id']))return _0x3b8f67[_0x5b7e04(0x279,0x276)]({'content':'User\x20is\x20not\x20part\x20of\x20this\x20ticket.','ephemeral':!![]});await _0x19e8b4['members'][_0x5b7e04(0x34d,0x2fe)](_0x2aa079);}else return _0x3b8f67[_0x5b7e04(0x2ac,0x276)]({'content':'This\x20command\x20can\x20only\x20be\x20used\x20within\x20a\x20text\x20channel\x20or\x20thread.','ephemeral':!![]});}const _0x1816cb=new EmbedBuilder()[_0x5b7e04(0x334,0x2cc)](_0x5b7e04(0x2c0,0x31d))[_0x5b7e04(0x2ec,0x353)](_0x5b7e04(0x24c,0x25e)+_0x2aa079[_0x5b7e04(0x375,0x2fc)]+'\x20from\x20the\x20ticket.');await _0x3b8f67['reply']({'embeds':[_0x1816cb],'ephemeral':!![]});const _0x337cb0=new EmbedBuilder()[_0x5b7e04(0x309,0x2cc)](_0x5b7e04(0x2c5,0x31d))[_0x5b7e04(0x33b,0x353)]('<@'+_0x2aa079['id']+_0x5b7e04(0x36f,0x328)+_0x3b8f67[_0x5b7e04(0x2c7,0x2bb)]['id']+'>.');await _0x19e8b4[_0x5b7e04(0x32c,0x2c5)]({'embeds':[_0x337cb0]});}catch(_0x21f904){console[_0x5b7e04(0x249,0x2bc)]('Error\x20removing\x20user\x20from\x20ticket:',_0x21f904),await _0x3b8f67[_0x5b7e04(0x30c,0x276)]({'content':_0x5b7e04(0x218,0x272),'ephemeral':!![]});}else{if(_0x4db557===_0x5b7e04(0x36d,0x2d9)&&!_0x569b54)try{const _0x334437=_0x3b8f67[_0x5b7e04(0x20d,0x261)][_0x5b7e04(0x2e2,0x2b0)](_0x5b7e04(0x244,0x259)),_0x1017c5=await Ticket[_0x5b7e04(0x24f,0x2ea)]({'channelId':_0x3b8f67[_0x5b7e04(0x2aa,0x249)]['id']});if(!_0x1017c5)return _0x3b8f67[_0x5b7e04(0x238,0x276)]({'content':'This\x20command\x20can\x20only\x20be\x20used\x20within\x20a\x20ticket\x20channel.','ephemeral':!![]});const _0xbbb32b=config['TicketTypes'][_0x1017c5[_0x5b7e04(0x38d,0x32b)]][_0x5b7e04(0x32c,0x291)],_0x92b415=_0x3b8f67['member'][_0x5b7e04(0x2a5,0x29e)]['cache'][_0x5b7e04(0x2e9,0x2a2)](_0x220500=>_0xbbb32b[_0x5b7e04(0x353,0x301)](_0x220500['id']));if(!_0x92b415)return _0x3b8f67[_0x5b7e04(0x278,0x276)]({'content':lang['NoPermsMessage'],'ephemeral':!![]});const _0x1cde5a=_0x3b8f67[_0x5b7e04(0x27a,0x249)];await _0x1cde5a[_0x5b7e04(0x26b,0x2da)](_0x334437);const _0x4eb2b4=new EmbedBuilder()['setColor'](_0x5b7e04(0x2b6,0x28d))[_0x5b7e04(0x2e3,0x353)](_0x5b7e04(0x278,0x236)+_0x334437+'.');await _0x3b8f67['reply']({'embeds':[_0x4eb2b4],'ephemeral':!![]});const _0x50b62d=new EmbedBuilder()[_0x5b7e04(0x272,0x2cc)](_0x5b7e04(0x2f6,0x28d))[_0x5b7e04(0x376,0x353)]('The\x20ticket\x20has\x20been\x20renamed\x20to\x20'+_0x334437+'\x20by\x20<@'+_0x3b8f67[_0x5b7e04(0x34c,0x2bb)]['id']+'>.');await _0x1cde5a['send']({'embeds':[_0x50b62d]});}catch(_0x39bdd1){console[_0x5b7e04(0x2be,0x2bc)](_0x5b7e04(0x2de,0x2f4),_0x39bdd1),await _0x3b8f67[_0x5b7e04(0x2b7,0x276)]({'content':'An\x20error\x20occurred\x20while\x20renaming\x20the\x20ticket.\x20Please\x20try\x20again\x20later.','ephemeral':!![]});}else{if(_0x4db557===_0x5b7e04(0x2e3,0x364)&&!_0x569b54)try{if(!hasSupportRole(_0x3b8f67['member'],Object[_0x5b7e04(0x2e5,0x2e6)](config['TicketTypes'])[_0x5b7e04(0x278,0x308)](_0x6173c8=>_0x6173c8[_0x5b7e04(0x214,0x291)]))){await _0x3b8f67[_0x5b7e04(0x23d,0x276)]({'content':lang['NoPermsMessage'],'ephemeral':!![]});return;}const _0x18304b=await Ticket['countDocuments']({}),_0x284623=await Ticket[_0x5b7e04(0x245,0x29d)]({'status':_0x5b7e04(0x2a1,0x28c)}),_0x4838a1=await Ticket[_0x5b7e04(0x2d6,0x29d)]({'status':_0x5b7e04(0x280,0x2f8)}),_0x53799e=await Ticket['countDocuments']({'status':_0x5b7e04(0x3e6,0x363)}),_0x1d8619=await Ticket[_0x5b7e04(0x31f,0x2ef)]({}),_0x1109e5=_0x1d8619[_0x5b7e04(0x2c3,0x334)]((_0x47d21d,_0x223505)=>_0x47d21d+(_0x223505['messageCount']||0x0),0x0),_0x1a67e7=_0x1d8619['filter'](_0x543cea=>{const _0x41178f=_0x543cea[_0x2bbe02(0x334,0x2e0)][_0x2bbe02(0x244,0x2b0)](/\((\d)\/5\)$/);function _0x2bbe02(_0x208cfc,_0x58a849){return _0x5b7e04(_0x208cfc,_0x58a849- -0x37);}if(_0x41178f)return _0x543cea['numericRating']=parseInt(_0x41178f[0x1]),!![];return![];}),_0xf78002=_0x1a67e7['length'],_0x5e2f7a=_0xf78002>0x0?(_0x1a67e7[_0x5b7e04(0x324,0x334)]((_0x12404c,_0x4cf4c1)=>_0x12404c+_0x4cf4c1[_0x5b7e04(0x37d,0x34c)],0x0)/_0xf78002)['toFixed'](0x1):'N/A',_0x1333ca=_0xf78002>0x0?'â­'[_0x5b7e04(0x348,0x2fb)](Math[_0x5b7e04(0x36f,0x35b)](_0x5e2f7a))+'\x20`'+_0x5e2f7a+_0x5b7e04(0x274,0x30f):_0x5b7e04(0x278,0x2af),_0x184f30=_0x1d8619[_0x5b7e04(0x34f,0x34e)](_0x4b9984=>_0x4b9984['status']===_0x5b7e04(0x3b2,0x363)&&_0x4b9984[_0x5b7e04(0x1a9,0x245)]&&_0x4b9984[_0x5b7e04(0x2da,0x337)]),_0x120dc5=_0x184f30['reduce']((_0x3e8510,_0x5bdfb9)=>{function _0x119275(_0x1dafa5,_0x5995e9){return _0x5b7e04(_0x5995e9,_0x1dafa5- -0x334);}const _0x3050a0=moment(_0x5bdfb9[_0x119275(0x3,0x1)]),_0x533d73=moment(_0x5bdfb9[_0x119275(-0xef,-0xa8)]);return _0x3e8510+_0x533d73['diff'](_0x3050a0);},0x0),_0x3f9f25=_0x184f30['length']>0x0?_0x120dc5/_0x184f30['length']:0x0,_0x16a14e=formatDuration(_0x3f9f25),_0x1ce818=Math['max'](..._0x184f30['map'](_0x51e6cf=>moment(_0x51e6cf[_0x5b7e04(0x282,0x245)])[_0x5b7e04(0x2e5,0x351)](moment(_0x51e6cf[_0x5b7e04(0x29f,0x337)]))),0x0),_0x1d3af6=formatDuration(_0x1ce818),_0x2b41aa=await generateTicketsGraph(_0x1d8619),_0x1f509e=Buffer[_0x5b7e04(0x289,0x270)](_0x2b41aa,_0x5b7e04(0x2fe,0x2ec)),_0x46b578=new AttachmentBuilder(_0x1f509e,{'name':_0x5b7e04(0x359,0x31e)}),_0x143134={'totalTickets':_0x18304b,'totalMessages':_0x1109e5,'totalReviews':_0xf78002,'openTickets':_0x284623,'closedTickets':_0x4838a1,'deletedTickets':_0x53799e,'averageRating':_0x1333ca,'averageClosure':_0x16a14e,'maxClosure':_0x1d3af6,'user':'<@'+_0x3b8f67['user']['id']+'>'},_0x4532a4=lang[_0x5b7e04(0x3dd,0x347)][_0x5b7e04(0x2b0,0x29c)],_0x5ecf20=new EmbedBuilder()[_0x5b7e04(0x283,0x271)](replacePlaceholders(_0x4532a4['Title'],_0x143134))[_0x5b7e04(0x32c,0x2cc)](_0x4532a4[_0x5b7e04(0x266,0x278)])[_0x5b7e04(0x2cd,0x353)](_0x4532a4[_0x5b7e04(0x30f,0x277)][_0x5b7e04(0x1f2,0x26e)](_0x35f9b7=>replacePlaceholders(_0x35f9b7,_0x143134))[_0x5b7e04(0x266,0x246)]('\x0a'))[_0x5b7e04(0x2bb,0x292)]();_0x4532a4['Footer']&&_0x4532a4[_0x5b7e04(0x2e4,0x28e)]['Text']&&_0x5ecf20[_0x5b7e04(0x286,0x284)]({'text':replacePlaceholders(_0x4532a4[_0x5b7e04(0x236,0x28e)]['Text'],_0x143134),'iconURL':_0x4532a4['Footer'][_0x5b7e04(0x30c,0x367)]}),_0x4532a4[_0x5b7e04(0x3eb,0x352)]&&_0x4532a4[_0x5b7e04(0x2d2,0x352)]['Text']&&_0x5ecf20['setAuthor']({'name':replacePlaceholders(_0x4532a4['Author'][_0x5b7e04(0x2a0,0x244)],_0x143134),'iconURL':_0x4532a4[_0x5b7e04(0x39d,0x352)][_0x5b7e04(0x30b,0x367)]}),_0x4532a4['Image']&&_0x5ecf20['setImage'](_0x5b7e04(0x397,0x331)),_0x4532a4[_0x5b7e04(0x27c,0x290)]&&_0x5ecf20[_0x5b7e04(0x34f,0x2bf)](_0x4532a4[_0x5b7e04(0x27b,0x290)]),Array[_0x5b7e04(0x26e,0x279)](_0x4532a4[_0x5b7e04(0x34c,0x2df)])&&_0x4532a4['Fields']['forEach'](_0x484719=>{function _0x17f385(_0x3d9f3e,_0x33a2ae){return _0x5b7e04(_0x3d9f3e,_0x33a2ae-0x276);}_0x484719[_0x17f385(0x4d2,0x4cf)]&&_0x484719[_0x17f385(0x4b7,0x52b)]&&_0x5ecf20[_0x17f385(0x564,0x5c1)]({'name':replacePlaceholders(_0x484719['name'],_0x143134),'value':replacePlaceholders(_0x484719[_0x17f385(0x556,0x52b)],_0x143134),'inline':_0x484719[_0x17f385(0x59f,0x554)]});}),await _0x3b8f67[_0x5b7e04(0x218,0x276)]({'embeds':[_0x5ecf20],'files':[_0x46b578],'ephemeral':![]});}catch(_0x155524){console[_0x5b7e04(0x330,0x2bc)](_0x5b7e04(0x24a,0x25c),_0x155524),await _0x3b8f67[_0x5b7e04(0x2ff,0x276)]({'content':'An\x20error\x20occurred\x20while\x20fetching\x20ticket\x20stats.\x20Please\x20try\x20again\x20later.','ephemeral':!![]});}else{if(_0x4db557===_0x5b7e04(0x24c,0x2e3)&&!_0x569b54)try{const _0x4d23a0=_0x3b8f67['options'][_0x5b7e04(0x28f,0x2b0)]('reason')||lang['NoReason'],_0x328541=await Ticket[_0x5b7e04(0x27b,0x2ea)]({'channelId':_0x3b8f67[_0x5b7e04(0x1ee,0x249)]['id']});if(!_0x328541)return _0x3b8f67[_0x5b7e04(0x25a,0x276)]({'content':_0x5b7e04(0x2ce,0x25a),'ephemeral':!![]});const _0x171042=config['TicketTypes'][_0x328541[_0x5b7e04(0x34f,0x32b)]][_0x5b7e04(0x286,0x291)],_0x492382=_0x3b8f67[_0x5b7e04(0x327,0x2c7)][_0x5b7e04(0x2c9,0x29e)]['cache'][_0x5b7e04(0x274,0x2a2)](_0x36d361=>_0x171042[_0x5b7e04(0x280,0x301)](_0x36d361['id']));if(!_0x492382)return _0x3b8f67[_0x5b7e04(0x200,0x276)]({'content':lang[_0x5b7e04(0x24e,0x275)],'ephemeral':!![]});await _0x3b8f67[_0x5b7e04(0x387,0x2f5)]({'ephemeral':!![]}),await handleTicketClose(_0x3b8f67['client'],_0x3b8f67,_0x328541[_0x5b7e04(0x317,0x2f6)]),await _0x3b8f67[_0x5b7e04(0x25f,0x297)]({'content':'Ticket\x20closed\x20successfully.'});}catch(_0x314a18){console['error'](_0x5b7e04(0x1ed,0x267),_0x314a18),!_0x3b8f67['replied']&&!_0x3b8f67['deferred']?await _0x3b8f67['reply']({'content':_0x5b7e04(0x2f8,0x323),'ephemeral':!![]}):await _0x3b8f67[_0x5b7e04(0x2fc,0x297)]({'content':_0x5b7e04(0x2ec,0x323)});}else{if(_0x4db557===_0x5b7e04(0x317,0x30d)&&!_0x569b54)try{await _0x3b8f67['deferReply']({'ephemeral':!![]});const _0x575e4d=_0x3b8f67[_0x5b7e04(0x285,0x261)][_0x5b7e04(0x301,0x2b0)](_0x5b7e04(0x2d2,0x2f1)),_0x5962d2=await Ticket[_0x5b7e04(0x2fe,0x2ea)]({'channelId':_0x3b8f67['channel']['id']});if(!_0x5962d2)return _0x3b8f67[_0x5b7e04(0x2d5,0x297)]({'content':_0x5b7e04(0x247,0x25a)});const _0x1b11a7=config[_0x5b7e04(0x2db,0x315)][_0x5962d2[_0x5b7e04(0x302,0x32b)]],_0x3cd0e9=config[_0x5b7e04(0x344,0x315)][_0x575e4d];if(!_0x3cd0e9)return _0x3b8f67[_0x5b7e04(0x2f6,0x297)]({'content':_0x5b7e04(0x25b,0x233)});if(_0x5962d2[_0x5b7e04(0x328,0x32b)]===_0x575e4d)return _0x3b8f67[_0x5b7e04(0x23e,0x297)]({'content':'This\x20ticket\x20is\x20already\x20of\x20the\x20specified\x20type.'});const _0x3b2839=_0x3b8f67[_0x5b7e04(0x235,0x2c7)][_0x5b7e04(0x212,0x29e)]['cache'][_0x5b7e04(0x2c5,0x2a2)](_0x29a76a=>_0x1b11a7[_0x5b7e04(0x246,0x291)][_0x5b7e04(0x2f0,0x301)](_0x29a76a['id']));if(!_0x3b2839)return _0x3b8f67['editReply']({'content':lang[_0x5b7e04(0x235,0x275)]});const _0x1e82c4=await _0x3b8f67[_0x5b7e04(0x2df,0x2e9)]['channels'][_0x5b7e04(0x29d,0x2b4)](_0x5962d2['channelId']);if(!_0x1e82c4)return _0x3b8f67['editReply']({'content':'Channel\x20not\x20found.'});const _0x249df6=await _0x3b8f67[_0x5b7e04(0x27b,0x2e9)][_0x5b7e04(0x2b6,0x302)]['fetch'](_0x5962d2[_0x5b7e04(0x253,0x257)]),_0x562231=await getUserPriority(_0x249df6),_0x14d11d=_0x3cd0e9['CategoryID']&&_0x3cd0e9[_0x5b7e04(0x280,0x23f)]!==''?_0x3cd0e9[_0x5b7e04(0x1db,0x23f)]:null;try{await moveChannel(_0x1e82c4,_0x14d11d),await updateChannelPermissions(_0x1e82c4,_0x3cd0e9,_0x5962d2[_0x5b7e04(0x1f4,0x257)]);}catch(_0x9d99ba){return console[_0x5b7e04(0x318,0x2bc)](_0x5b7e04(0x2b8,0x250),_0x9d99ba),_0x3b8f67[_0x5b7e04(0x22e,0x297)]({'content':_0x5b7e04(0x366,0x348)});}_0x5962d2['questions']=_0x5962d2[_0x5b7e04(0x3a6,0x365)][_0x5b7e04(0x253,0x26e)](_0x1b9854=>({'question':_0x1b9854[_0x5b7e04(0x33c,0x354)]||'No\x20Question\x20Provided','answer':_0x1b9854[_0x5b7e04(0x351,0x2c2)]||'No\x20Answer\x20Provided'})),_0x5962d2[_0x5b7e04(0x296,0x32b)]=_0x575e4d,await _0x5962d2[_0x5b7e04(0x2c3,0x31a)]();const _0x1c6569=_0x3cd0e9['ChannelName'][_0x5b7e04(0x2e5,0x25f)]('{ticket-id}',_0x5962d2[_0x5b7e04(0x304,0x2f6)])[_0x5b7e04(0x2c4,0x25f)](_0x5b7e04(0x344,0x369),_0x3b8f67[_0x5b7e04(0x2ee,0x2bb)]['username'])[_0x5b7e04(0x1cd,0x25f)]('{priority}',_0x562231);try{await renameChannel(_0x1e82c4,_0x1c6569);}catch(_0x5349d9){return console[_0x5b7e04(0x34d,0x2bc)](_0x5b7e04(0x30c,0x2d6),_0x5349d9),_0x3b8f67[_0x5b7e04(0x2ca,0x297)]({'content':_0x5b7e04(0x35a,0x2cb)});}const _0x397ee8=new EmbedBuilder()[_0x5b7e04(0x285,0x2cc)](_0x5b7e04(0x230,0x28d))[_0x5b7e04(0x358,0x353)](_0x5b7e04(0x1de,0x26d)+_0x3cd0e9[_0x5b7e04(0x25e,0x2b9)]+'.');await _0x3b8f67[_0x5b7e04(0x25c,0x297)]({'embeds':[_0x397ee8]});const _0x14803b=new EmbedBuilder()[_0x5b7e04(0x23a,0x2cc)](_0x5b7e04(0x241,0x28d))[_0x5b7e04(0x3a5,0x353)](_0x5b7e04(0x252,0x2a3)+_0x3cd0e9[_0x5b7e04(0x2f0,0x2b9)]+'\x20by\x20<@'+_0x3b8f67['user']['id']+'>.');await _0x1e82c4['send']({'embeds':[_0x14803b]});}catch(_0x14ca64){console['error'](_0x5b7e04(0x32c,0x2d3),_0x14ca64),await _0x3b8f67['editReply']({'content':_0x5b7e04(0x379,0x348)});}else await _0x3b8f67[_0x5b7e04(0x2ca,0x276)]({'content':_0x5b7e04(0x25c,0x2ee),'ephemeral':!![]});}}}}}}}}}}catch(_0x152710){console['error'](_0x5b7e04(0x2ad,0x25b),_0x152710),await _0x3b8f67[_0x5b7e04(0x312,0x276)]({'content':_0x5b7e04(0x2b8,0x314),'ephemeral':!![]});}}};