(function(_0x2dac8f,_0x1ad194){function _0x42daef(_0x36fb55,_0xefdcf7){return _0xb78f(_0xefdcf7- -0x37c,_0x36fb55);}const _0x10fd8f=_0x2dac8f();while(!![]){try{const _0xae7174=-parseInt(_0x42daef(-0x28a,-0x2bc))/0x1*(parseInt(_0x42daef(-0x2cd,-0x2eb))/0x2)+-parseInt(_0x42daef(-0x29c,-0x2a5))/0x3*(parseInt(_0x42daef(-0x294,-0x2b3))/0x4)+-parseInt(_0x42daef(-0x282,-0x2a8))/0x5*(-parseInt(_0x42daef(-0x2a2,-0x295))/0x6)+parseInt(_0x42daef(-0x263,-0x26f))/0x7+-parseInt(_0x42daef(-0x28a,-0x26a))/0x8+-parseInt(_0x42daef(-0x268,-0x288))/0x9*(-parseInt(_0x42daef(-0x221,-0x267))/0xa)+parseInt(_0x42daef(-0x297,-0x2d2))/0xb*(parseInt(_0x42daef(-0x249,-0x261))/0xc);if(_0xae7174===_0x1ad194)break;else _0x10fd8f['push'](_0x10fd8f['shift']());}catch(_0x31f046){_0x10fd8f['push'](_0x10fd8f['shift']());}}}(_0x2ab0,0xd396d));const {EmbedBuilder,SlashCommandBuilder,ActionRowBuilder,ButtonBuilder,ButtonStyle,ModalBuilder,TextInputBuilder,TextInputStyle}=require(_0x52f2ab(-0x3b,-0x56)),axios=require('axios'),yaml=require(_0x52f2ab(-0x34,-0x3f)),fs=require('fs'),Transaction=require('../../models/Transaction'),rateLimit=new Map(),lang=yaml['load'](fs[_0x52f2ab(-0x3,0x3)]('./lang.yml','utf8')),config=yaml[_0x52f2ab(-0x1e,0xf)](fs[_0x52f2ab(0xa,0x3)](_0x52f2ab(0x47,0xd),_0x52f2ab(0x1a,0x22)));function _0xb78f(_0x4b6057,_0x432b14){const _0x2ab0ed=_0x2ab0();return _0xb78f=function(_0xb78f8d,_0x1f4c6e){_0xb78f8d=_0xb78f8d-0x90;let _0x483953=_0x2ab0ed[_0xb78f8d];return _0x483953;},_0xb78f(_0x4b6057,_0x432b14);}function _0x2ab0(){const _0x1b033e=['Messages','js-yaml','Dogecoin','USD','addComponents','custom_wallet','Lang','https://cryptologos.cc/logos/tether-usdt-logo.png','setStyle','You\x20are\x20submitting\x20transactions\x20too\x20quickly.\x20Please\x20wait\x20a\x20moment.','setDescription','2PRyMkc','Avalanche','{qrCode}','https://cryptologos.cc/logos/bitcoin-btc-logo.png','replace','https://cryptologos.cc/logos/litecoin-ltc-logo.png','Footer','predefined_wallet','{client}','503708voipOO','fetchReply','Polkadot','https://cryptologos.cc/logos/xrp-xrp-logo.png','XRP','EUR','getString','LINK','setEmoji','Client\x20user','some','118160OwRIko','Transaction','BNB','21OOOEsz','setName','BTC','setColor','map','setCustomId','Litecoin','has','ETH','getUser','USD\x20Coin','Emoji','https://cryptologos.cc/logos/polkadot-dot-logo.png','Wallets','Description','Solana','174UHOBBx','addStringOption','Litecoin\x20(LTC)','{coinType_Full}','set','{status}','DOGE','https://cryptologos.cc/logos/tron-trx-logo.png','addUserOption','crypto_','MATIC','Price\x20in\x20currency\x20format\x20(e.g.,\x20$5.99,\x20£2.56,\x20€4.2)','SHIB','630lOZWsD','setLabel','Style','get','readFileSync','setTitle','https://cryptologos.cc/logos/avalanche-avax-logo.png','https://api.coinbase.com/v2/exchange-rates?currency=','Ethereum\x20(ETH)','data','error','{coinType}','Cryptocurrency\x20type','USDT','./config.yml','Permissions','load','Select\x20a\x20predefined\x20wallet\x20address','{service}','AVAX','Ethereum','There\x20was\x20an\x20error\x20fetching\x20the\x20conversion\x20rates.\x20Please\x20try\x20again\x20later.','DOT','Crypto','setURL','2561671BeaiPG','exports','cache','Invalid\x20button\x20style:\x20','{transaction}','8340720HYqiaK','Pending','setRequired','105590zgSgRR','Bitcoin','utf8','toFixed','Bitcoin\x20(BTC)','Cardano','204DQOGMO','{currencyAmount}','1463422SROCXQ','substring','{walletAddress}','Title','GBP','&size=150x150','USDC','https://cryptologos.cc/logos/shiba-inu-shib-logo.png','Name','https://cryptologos.cc/logos/polygon-matic-logo.png','Embed','addChoices','user','reply','discord.js','https://cryptologos.cc/logos/solana-sol-logo.png','Thumbnail','{cryptoAmount}','getTime','crypto','roles','join','TRX','Product\x20or\x20service\x20description','price','1594197pbHbVp','charAt','LTC','https://cryptologos.cc/logos/usd-coin-usdc-logo.png','Type','Buttons','TRON','NoPermsMessage','Icon','https://cryptologos.cc/logos/binance-coin-bnb-logo.png','options'];_0x2ab0=function(){return _0x1b033e;};return _0x2ab0();}function _0x52f2ab(_0x31da4a,_0x3d95af){return _0xb78f(_0x3d95af- -0xf5,_0x31da4a);}module[_0x52f2ab(-0x9,0x19)]={'data':new SlashCommandBuilder()['setName'](_0x52f2ab(-0x64,-0x51))[_0x52f2ab(-0x5b,-0x36)]('Generate\x20a\x20crypto\x20payment\x20embed')[_0x52f2ab(0x3f,-0x6)](_0x348aba=>_0x348aba[_0x52f2ab(-0x16,-0x1d)]('user')[_0x52f2ab(-0x47,-0x36)](_0x52f2ab(-0x54,-0x23))[_0x52f2ab(-0xc,0x1f)](!![]))[_0x52f2ab(-0x26,-0xd)](_0x145ac1=>_0x145ac1[_0x52f2ab(-0x5a,-0x1d)]('coin')[_0x52f2ab(0x3,-0x36)](_0x52f2ab(0x4d,0xb))[_0x52f2ab(-0x7,0x1f)](!![])[_0x52f2ab(-0x97,-0x59)]({'name':_0x52f2ab(0x67,0x24),'value':_0x52f2ab(-0x4e,-0x1c)},{'name':_0x52f2ab(0x32,-0xc),'value':'LTC'},{'name':_0x52f2ab(0x1a,0x7),'value':_0x52f2ab(-0xa,-0x16)},{'name':'Dogecoin\x20(DOGE)','value':_0x52f2ab(0xf,-0x8)}))[_0x52f2ab(0x23,-0xd)](_0x1cbf78=>_0x1cbf78[_0x52f2ab(-0x10,-0x1d)](_0x52f2ab(-0x6c,-0x4c))[_0x52f2ab(-0x37,-0x36)](_0x52f2ab(0xf,-0x3))['setRequired'](!![]))[_0x52f2ab(-0x30,-0xd)](_0x31f42f=>_0x31f42f[_0x52f2ab(0x4,-0x1d)](_0x52f2ab(-0x33,-0x2e))['setDescription'](_0x52f2ab(-0x1d,0x10))[_0x52f2ab(0x46,0x1f)](![])[_0x52f2ab(-0x48,-0x59)]({'name':_0x52f2ab(-0x43,-0x1c),'value':_0x52f2ab(0x2a,-0x1c)},{'name':_0x52f2ab(-0x6e,-0x49),'value':_0x52f2ab(-0x5d,-0x49)},{'name':_0x52f2ab(0x2f,-0x16),'value':_0x52f2ab(0xa,-0x16)},{'name':_0x52f2ab(0x2e,0xc),'value':_0x52f2ab(0x9,0xc)},{'name':_0x52f2ab(0x24,-0x1f),'value':_0x52f2ab(0x5,-0x1f)},{'name':_0x52f2ab(-0x30,-0x5e),'value':_0x52f2ab(-0x37,-0x5e)},{'name':_0x52f2ab(-0x6e,-0x28),'value':_0x52f2ab(-0x58,-0x28)},{'name':'DOGE','value':'DOGE'},{'name':'SOL','value':'SOL'},{'name':_0x52f2ab(0x3d,0x15),'value':'DOT'},{'name':_0x52f2ab(-0x78,-0x4e),'value':_0x52f2ab(-0x65,-0x4e)},{'name':_0x52f2ab(0x16,-0x4),'value':_0x52f2ab(0x0,-0x4)},{'name':'SHIB','value':_0x52f2ab(0x40,-0x2)},{'name':_0x52f2ab(-0x14,0x12),'value':'AVAX'}))[_0x52f2ab(0x20,-0xd)](_0x142cd0=>_0x142cd0['setName'](_0x52f2ab(-0x80,-0x3b))[_0x52f2ab(-0x68,-0x36)]('Enter\x20a\x20custom\x20wallet\x20address')[_0x52f2ab(0x64,0x1f)](![]))['addStringOption'](_0x2a5c75=>_0x2a5c75[_0x52f2ab(-0x58,-0x1d)]('product')[_0x52f2ab(-0x4b,-0x36)](_0x52f2ab(-0x54,-0x4d))['setRequired'](![])),async 'execute'(_0x1170a0){const _0x1f83f9=config[_0x3766e2(0x93,0xc4)][_0x3766e2(0x34,0xe)],_0x1f46f4=_0x1f83f9[_0x3766e2(0x63,0x47)](_0x16770f=>_0x1170a0['member'][_0x3766e2(0x35,0x49)][_0x3766e2(0x9f,0xb3)][_0x3766e2(0x6e,0x55)](_0x16770f));if(!_0x1f46f4)return _0x1170a0['reply']({'content':lang[_0x3766e2(0x41,0xc)],'ephemeral':!![]});const _0x2ebd94=_0x1170a0[_0x3766e2(0x44,0x80)][_0x3766e2(0x70,0x8f)](_0x3766e2(0x2d,0x70)),_0x40f53f=_0x1170a0[_0x3766e2(0x44,0x4f)][_0x3766e2(0x5f,0x48)]('coin'),_0x5dbe41=_0x1170a0['options'][_0x3766e2(0x5f,0x2c)](_0x3766e2(0x39,0x70)),_0xdb014a=_0x1170a0['options']['getString'](_0x3766e2(0x57,0x5a)),_0x293959=_0x1170a0[_0x3766e2(0x44,0x89)]['getString'](_0x3766e2(0x4a,0x68)),_0xaabc93=_0x1170a0[_0x3766e2(0x44,0x7e)][_0x3766e2(0x5f,0x2b)]('product')||'N/A',_0x3f6f7c=_0x5dbe41[_0x3766e2(0x3b,0x1b)](0x0),_0x5cd193=parseFloat(_0x5dbe41[_0x3766e2(0x22,-0x7)](0x1));let _0x43741d;if(_0x3f6f7c==='$')_0x43741d=_0x3766e2(0x48,0x21);else{if(_0x3f6f7c==='£')_0x43741d=_0x3766e2(0x25,-0x10);else{if(_0x3f6f7c==='€')_0x43741d=_0x3766e2(0x5e,0x97);else return _0x1170a0['reply']({'content':'Unsupported\x20currency\x20symbol.','ephemeral':!![]});}}let _0x52838f;if(_0xdb014a)_0x52838f=lang[_0x3766e2(0x74,0x8b)][_0xdb014a];else{if(_0x293959)_0x52838f=_0x293959;else return _0x1170a0['reply']({'content':'You\x20must\x20provide\x20either\x20a\x20predefined\x20or\x20custom\x20wallet\x20address.','ephemeral':!![]});}const _0x28f93f=_0x1170a0[_0x3766e2(0x2d,-0x14)]['id'],_0x31275f=new Date()[_0x3766e2(0x33,-0x2)]();if(rateLimit[_0x3766e2(0x6e,0x58)](_0x28f93f)){const {lastSubmission:_0x208be5,count:_0x3af03e}=rateLimit[_0x3766e2(0x87,0x44)](_0x28f93f);if(_0x31275f-_0x208be5<0xea60){if(_0x3af03e>=0x5)return _0x1170a0[_0x3766e2(0x2e,0x1a)]({'content':_0x3766e2(0x4e,0x4a),'ephemeral':!![]});else rateLimit[_0x3766e2(0x7b,0x5a)](_0x28f93f,{'lastSubmission':_0x31275f,'count':_0x3af03e+0x1});}else rateLimit[_0x3766e2(0x7b,0x88)](_0x28f93f,{'lastSubmission':_0x31275f,'count':0x1});}else rateLimit[_0x3766e2(0x7b,0x72)](_0x28f93f,{'lastSubmission':_0x31275f,'count':0x1});function _0x3766e2(_0x1f8b4f,_0x280e56){return _0x52f2ab(_0x280e56,_0x1f8b4f-0x85);}try{const _0x19f07a=await axios['get'](_0x3766e2(0x8b,0x88)+_0x40f53f),_0x264793=_0x19f07a[_0x3766e2(0x8d,0xa2)]['data']['rates'],_0x541f3e=parseFloat(_0x264793[_0x43741d]),_0x3812e3=(_0x5cd193/_0x541f3e)[_0x3766e2(0xa8,0xb2)](0x8),_0xc8e0a9={'BTC':_0x3766e2(0xa6,0xd0),'ETH':_0x3766e2(0x98,0xa3),'USDT':'Tether','BNB':'Binance\x20Coin','USDC':_0x3766e2(0x71,0x49),'XRP':_0x3766e2(0x5d,0x86),'ADA':_0x3766e2(0xaa,0xa5),'DOGE':_0x3766e2(0x47,0x74),'SOL':_0x3766e2(0x76,0x62),'DOT':_0x3766e2(0x5b,0x66),'TRX':_0x3766e2(0x40,0x11),'MATIC':'Polygon','LTC':_0x3766e2(0x6d,0x5a),'SHIB':'Shiba\x20Inu','AVAX':_0x3766e2(0x51,0x22)},_0x497ea9=_0xc8e0a9[_0x40f53f]||_0x40f53f,_0x5c051c={'BTC':_0x3766e2(0x53,0x6a),'ETH':'https://cryptologos.cc/logos/ethereum-eth-logo.png','USDT':_0x3766e2(0x4c,0x10),'BNB':_0x3766e2(0x43,0x41),'USDC':_0x3766e2(0x3d,0x64),'XRP':_0x3766e2(0x5c,0x74),'ADA':'https://cryptologos.cc/logos/cardano-ada-logo.png','DOGE':'https://cryptologos.cc/logos/dogecoin-doge-logo.png','SOL':_0x3766e2(0x30,0x6c),'DOT':_0x3766e2(0x73,0x5f),'TRX':_0x3766e2(0x7e,0x47),'MATIC':_0x3766e2(0x2a,0x46),'LTC':_0x3766e2(0x55,0x4c),'SHIB':_0x3766e2(0x28,0x5c),'AVAX':_0x3766e2(0x8a,0x50)},_0x4ca07f=_0x5c051c[_0x40f53f]||'',_0x12c5ea='https://api.qrserver.com/v1/create-qr-code/?data='+encodeURIComponent(_0x52838f)+_0x3766e2(0x26,0x3c),_0x5f4885=lang[_0x3766e2(0x9b,0xc0)][_0x3766e2(0x2b,-0x6)][_0x3766e2(0x31,-0x12)]===_0x3766e2(0x52,0x21)?_0x12c5ea:_0x4ca07f,_0xa4d428=new EmbedBuilder()[_0x3766e2(0x89,0x99)](lang[_0x3766e2(0x9b,0x66)][_0x3766e2(0x2b,-0xa)][_0x3766e2(0x24,-0x2)][_0x3766e2(0x54,0x87)](_0x3766e2(0x8f,0x4a),_0x40f53f)['replace'](_0x3766e2(0x7a,0x58),_0x497ea9))[_0x3766e2(0x4f,0x62)](lang[_0x3766e2(0x9b,0xa8)][_0x3766e2(0x2b,-0x4)][_0x3766e2(0x75,0x40)][_0x3766e2(0x36,0x21)]('\x0a')[_0x3766e2(0x54,0xe)]('{seller}','<@'+_0x1170a0['user']['id']+'>')['replace'](_0x3766e2(0x58,0x16),'<@'+_0x2ebd94['id']+'>')[_0x3766e2(0x54,0x4f)](_0x3766e2(0x96,0x5b),_0xaabc93)[_0x3766e2(0x54,0x81)](_0x3766e2(0x23,-0x1),_0x52838f)[_0x3766e2(0x54,0x2a)](_0x3766e2(0x32,0x38),_0x3812e3)[_0x3766e2(0x54,0x9a)]('{currencySymbol}',_0x3f6f7c)['replace'](_0x3766e2(0x20,0x4f),_0x5cd193)[_0x3766e2(0x54,0x86)](_0x3766e2(0x7c,0x41),lang[_0x3766e2(0x9b,0xba)][_0x3766e2(0x45,0x84)][_0x3766e2(0xa3,0xdc)][_0x3766e2(0x4b,0x58)])[_0x3766e2(0x54,0x79)](_0x3766e2(0xa1,0xbf),lang[_0x3766e2(0x9b,0xcf)][_0x3766e2(0x45,0x46)][_0x3766e2(0x65,0x84)]))['setFooter']({'text':lang[_0x3766e2(0x9b,0x63)][_0x3766e2(0x2b,0x1f)][_0x3766e2(0x56,0x42)]['Text'],'iconURL':lang[_0x3766e2(0x9b,0xcf)][_0x3766e2(0x2b,0x4)][_0x3766e2(0x56,0x44)][_0x3766e2(0x42,0x5c)]})[_0x3766e2(0x6a,0x2d)](lang[_0x3766e2(0x9b,0xcb)]['Messages'][_0x3766e2(0xa3,0xe1)]['Color'])['setThumbnail'](_0x5f4885),_0x2cd44c=lang[_0x3766e2(0x9b,0xae)][_0x3766e2(0x2b,0x54)][_0x3766e2(0x3f,0x1)][_0x3766e2(0x6b,0x6a)](_0x2ef09c=>{const _0x3e74bd=ButtonStyle[_0x2ef09c[_0x5e0bfd(0x46,0x69)]];if(!_0x3e74bd)throw new Error(_0x5e0bfd(0xb5,0x83)+_0x2ef09c[_0x5e0bfd(0x75,0x69)]);const _0x5ea557=new ButtonBuilder()[_0x5e0bfd(0x74,0x68)](_0x2ef09c[_0x5e0bfd(0x38,0xc)])[_0x5e0bfd(0x5e,0x44)](_0x2ef09c[_0x5e0bfd(0x6e,0x55)])[_0x5e0bfd(0x1f,0x30)](_0x3e74bd);function _0x5e0bfd(_0x1dcb0d,_0x195d27){return _0x3766e2(_0x195d27- -0x1d,_0x1dcb0d);}return _0x2ef09c[_0x5e0bfd(-0xb,0x21)]===_0x5e0bfd(0x80,0x43)?_0x5ea557[_0x5e0bfd(0xa0,0x7f)](_0x2ef09c['Link']):_0x5ea557[_0x5e0bfd(0x66,0x4f)](_0x5e0bfd(0x2a,0x63)+_0x2ef09c['Type']['toLowerCase']()),_0x5ea557;}),_0x3a8c75=new ActionRowBuilder()[_0x3766e2(0x49,0x9)](_0x2cd44c),_0x1b0c32=await _0x1170a0[_0x3766e2(0x2e,0x2)]({'embeds':[_0xa4d428],'components':[_0x3a8c75],'ephemeral':![]}),_0x383c8a=await _0x1170a0[_0x3766e2(0x5a,0x93)](),_0x3dc6c9=new Transaction({'messageId':_0x383c8a['id'],'userId':_0x1170a0[_0x3766e2(0x2d,0x51)]['id'],'address':_0x52838f,'qrCodeURL':_0x12c5ea,'status':_0x3766e2(0xa3,0x90),'coin':_0x40f53f,'channelId':_0x1170a0['channel']['id'],'commandTimestamp':new Date(),'requestedAmount':_0x3812e3,'targetAddress':_0x52838f});await _0x3dc6c9['save']();}catch(_0x1f36c8){console[_0x3766e2(0x8e,0xac)]('Error\x20fetching\x20conversion\x20rates:',_0x1f36c8),await _0x1170a0[_0x3766e2(0x2e,0x1)]({'content':_0x3766e2(0x99,0xbf),'ephemeral':!![]});}}};