(function(_0x42ae79,_0x5d1e5d){const _0x8acf25=_0x42ae79();function _0x2a7602(_0x4aa1e6,_0x154ef5){return _0x5cde(_0x154ef5- -0x2f4,_0x4aa1e6);}while(!![]){try{const _0x9e54aa=-parseInt(_0x2a7602(-0x162,-0x153))/0x1*(parseInt(_0x2a7602(-0x18a,-0x172))/0x2)+-parseInt(_0x2a7602(-0x1a9,-0x19e))/0x3+-parseInt(_0x2a7602(-0x179,-0x16f))/0x4*(parseInt(_0x2a7602(-0x197,-0x1a2))/0x5)+-parseInt(_0x2a7602(-0x184,-0x15c))/0x6*(-parseInt(_0x2a7602(-0x1cc,-0x1aa))/0x7)+parseInt(_0x2a7602(-0x184,-0x173))/0x8+parseInt(_0x2a7602(-0x1a1,-0x193))/0x9*(-parseInt(_0x2a7602(-0x122,-0x15e))/0xa)+parseInt(_0x2a7602(-0x1a7,-0x1a0))/0xb;if(_0x9e54aa===_0x5d1e5d)break;else _0x8acf25['push'](_0x8acf25['shift']());}catch(_0x35332d){_0x8acf25['push'](_0x8acf25['shift']());}}}(_0x3567,0x20aca));function _0x3567(){const _0x329971=['/v2/invoicing/invoices/','setTitle','Fields','js-yaml','roles','price','/send','save','../models/invoice','1708816vgItGT','202jMLQJb','some','https://www.','756zOxiKf','Email','NoPermission','The\x20user\x20to\x20bill','setImage','cache','setEmoji','Title','Image','setLabel','Secret','deferred','response','Basic\x20','post','message','replace','660flDauH','has','315582WvqSeJ','Buttons','The\x20price\x20of\x20the\x20product','invoiceID','Thumbnail','Author','Sandbox','channel','data','155bCTMoc','./config.yml','replied','error','map','setRequired','setThumbnail','https://api.sandbox.paypal.com','setDescription','addComponents','sandbox.','grant_type=client_credentials','Embed','reply','Color','split','Error','options','Text','pop','utf8','Thank\x20you\x20for\x20your\x20business.','AllowedRoles','exports','followUp','getUser','./lang.yml','load','PayPalSettings','Bearer\x20','Paypal','discord.js','product','setCustomId','setColor','14lWNTwp','Pay','Message','The\x20product\x20or\x20service','forEach','setAuthor','paypal.com/invoice/p/#','Invoice\x20ID\x20not\x20found\x20in\x20the\x20response','2595BinwrA','Name','1893463DWRhJK','user','482547BqXIXI','setURL','Create\x20a\x20PayPal\x20invoice','application/x-www-form-urlencoded','addFields','Icon','setStyle','setName','toString','Error\x20creating\x20PayPal\x20invoice:','readFileSync','11250JvxMFU','getString','permissions','guild','Emoji','Status','/v2/invoicing/invoices','https://api.paypal.com','value','Description','Messages','access_token','addStringOption','Seller','Success','Footer','base64','setFooter','paypal_updateStatus_','Currency','join','addUserOption','Flags'];_0x3567=function(){return _0x329971;};return _0x3567();}const {SlashCommandBuilder,EmbedBuilder,ActionRowBuilder,ButtonBuilder,ButtonStyle,PermissionsBitField}=require(_0x566b05(-0x1d4,-0x1e6)),axios=require('axios'),fs=require('fs'),yaml=require(_0x566b05(-0x19f,-0x186));function _0x5cde(_0x3f7e65,_0x52336c){const _0x35678e=_0x3567();return _0x5cde=function(_0x5cde3d,_0x3b0662){_0x5cde3d=_0x5cde3d-0x140;let _0x9cac28=_0x35678e[_0x5cde3d];return _0x9cac28;},_0x5cde(_0x3f7e65,_0x52336c);}function _0x566b05(_0x1f497b,_0xeff0){return _0x5cde(_0x1f497b- -0x31a,_0xeff0);}const Invoice=require(_0x566b05(-0x19a,-0x1cc)),config=yaml['load'](fs[_0x566b05(-0x1ba,-0x1f0)](_0x566b05(-0x178,-0x158),'utf8')),lang=yaml[_0x566b05(-0x1d8,-0x1b6)](fs[_0x566b05(-0x1ba,-0x1cb)](_0x566b05(-0x1d9,-0x1d5),_0x566b05(-0x165,-0x178))),isSandbox=config[_0x566b05(-0x1d7,-0x1da)][_0x566b05(-0x17c,-0x178)]||![],paypalApiBaseUrl=isSandbox?_0x566b05(-0x172,-0x181):_0x566b05(-0x1b2,-0x1db);function replacePlaceholders(_0xcfa0bc,_0x24ff4a){function _0x560ccd(_0x429ea6,_0x19dfcd){return _0x566b05(_0x19dfcd-0x539,_0x429ea6);}return _0xcfa0bc[_0x560ccd(0x38e,0x3b4)](/{(.*?)}/g,(_0x20d0b6,_0x3a9b94)=>_0x24ff4a[_0x3a9b94]||'');}module[_0x566b05(-0x162,-0x17e)]={'data':new SlashCommandBuilder()[_0x566b05(-0x1bd,-0x1b7)]('paypal')[_0x566b05(-0x171,-0x18a)](_0x566b05(-0x1c2,-0x1d0))[_0x566b05(-0x1a4,-0x1a3)](_0x15fff3=>_0x15fff3[_0x566b05(-0x1bd,-0x1b6)](_0x566b05(-0x1c5,-0x1e8))['setDescription'](_0x566b05(-0x192,-0x1a1))[_0x566b05(-0x174,-0x1a0)](!![]))[_0x566b05(-0x1ad,-0x1aa)](_0x22bb15=>_0x22bb15['setName'](_0x566b05(-0x19d,-0x199))[_0x566b05(-0x171,-0x19e)](_0x566b05(-0x180,-0x16e))['setRequired'](!![]))[_0x566b05(-0x1ad,-0x1ca)](_0x37675c=>_0x37675c[_0x566b05(-0x1bd,-0x1c1)](_0x566b05(-0x1d3,-0x203))[_0x566b05(-0x171,-0x1a5)](_0x566b05(-0x1cd,-0x1c0))['setRequired'](!![])),async 'execute'(_0x74281){const _0x35f0ff=_0x74281['member'];function _0x103e34(_0x5de671,_0x4ef245){return _0x566b05(_0x5de671-0x6d9,_0x4ef245);}const _0x16d242=config[_0x103e34(0x502,0x4ca)][_0x103e34(0x576,0x5b0)]||[],_0x1d3356=_0x16d242[_0x103e34(0x542,0x576)](_0x4613ed=>_0x35f0ff[_0x103e34(0x53b,0x543)][_0x103e34(0x549,0x586)][_0x103e34(0x556,0x521)](_0x4613ed)),_0x473477=_0x35f0ff[_0x103e34(0x522,0x545)][_0x103e34(0x556,0x57e)](PermissionsBitField[_0x103e34(0x536,0x4fd)]['Administrator']);if(!_0x1d3356&&!_0x473477)return _0x74281[_0x103e34(0x56d,0x53b)]({'content':lang[_0x103e34(0x504,0x4fe)]['Messages'][_0x103e34(0x546,0x542)],'ephemeral':!![]});const _0xdaac2d=_0x74281[_0x103e34(0x571,0x5ae)][_0x103e34(0x4ff,0x530)](_0x103e34(0x514,0x4e2)),_0x1dc175=_0x74281[_0x103e34(0x571,0x5a4)]['getString'](_0x103e34(0x53c,0x4ff)),_0x26ed02=_0x74281[_0x103e34(0x571,0x584)][_0x103e34(0x521,0x542)]('product'),_0x3120d0={'seller':config['PayPalSettings'][_0x103e34(0x545,0x581)],'buyer':'<@'+_0xdaac2d['id']+'>','invoiceID':'','currency':config[_0x103e34(0x502,0x4f0)][_0x103e34(0x533,0x515)],'price':''+config[_0x103e34(0x502,0x527)]['Symbol']+_0x1dc175,'service':_0x26ed02,'status':lang['Paypal'][_0x103e34(0x52a,0x52c)]['Unpaid'][_0x103e34(0x50b,0x52d)]};try{const _0x1bd2ac=await axios({'method':_0x103e34(0x552,0x528),'url':paypalApiBaseUrl+'/v1/oauth2/token','headers':{'Content-Type':_0x103e34(0x518,0x4f6),'Authorization':_0x103e34(0x551,0x55a)+Buffer['from'](config[_0x103e34(0x502,0x4cd)]['ClientID']+':'+config[_0x103e34(0x502,0x539)][_0x103e34(0x54e,0x548)])[_0x103e34(0x51d,0x4fb)](_0x103e34(0x530,0x51d))},'data':_0x103e34(0x56b,0x52f)}),_0x18d6b7=_0x1bd2ac[_0x103e34(0x55f,0x56f)][_0x103e34(0x52b,0x565)],_0x555f61=await axios({'method':_0x103e34(0x552,0x516),'url':paypalApiBaseUrl+_0x103e34(0x526,0x54d),'headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+_0x18d6b7},'data':{'detail':{'currency_code':config[_0x103e34(0x502,0x518)][_0x103e34(0x533,0x55c)],'note':_0x26ed02,'terms_and_conditions':_0x103e34(0x575,0x565),'invoice_date':new Date()['toISOString']()[_0x103e34(0x56f,0x536)]('T')[0x0]},'invoicer':{'name':{'given_name':_0x103e34(0x52d,0x502),'surname':_0x103e34(0x512,0x4d7)},'email_address':config['PayPalSettings'][_0x103e34(0x545,0x531)]},'primary_recipients':[{'billing_info':{'email_address':config[_0x103e34(0x502,0x4d5)][_0x103e34(0x545,0x524)]}}],'items':[{'name':_0x26ed02,'quantity':0x1,'unit_amount':{'currency_code':config[_0x103e34(0x502,0x4f1)]['Currency'],'value':_0x1dc175}}],'amount':{'breakdown':{'item_total':{'currency_code':config['PayPalSettings'][_0x103e34(0x533,0x553)],'value':_0x1dc175}}}}}),_0x466c6e=_0x555f61[_0x103e34(0x55f,0x56d)]['href'],_0x34902c=_0x466c6e['split']('/')[_0x103e34(0x573,0x594)]();if(!_0x34902c)throw new Error(_0x103e34(0x510,0x4e1));await axios({'method':'post','url':paypalApiBaseUrl+_0x103e34(0x537,0x548)+_0x34902c+_0x103e34(0x53d,0x502),'headers':{'Content-Type':'application/json','Authorization':_0x103e34(0x503,0x4d2)+_0x18d6b7}}),_0x3120d0[_0x103e34(0x55a,0x525)]=_0x34902c;const _0x906c2f=new EmbedBuilder();lang[_0x103e34(0x504,0x4da)]['Embed'][_0x103e34(0x54b,0x569)]&&_0x906c2f[_0x103e34(0x538,0x524)](replacePlaceholders(lang[_0x103e34(0x504,0x4f2)]['Embed'][_0x103e34(0x54b,0x542)],_0x3120d0));if(lang[_0x103e34(0x504,0x525)]['Embed'][_0x103e34(0x529,0x50a)]){const _0x3b7c5a=lang[_0x103e34(0x504,0x529)][_0x103e34(0x56c,0x540)][_0x103e34(0x529,0x507)][_0x103e34(0x564,0x537)](_0x5f42e5=>replacePlaceholders(_0x5f42e5,_0x3120d0))[_0x103e34(0x534,0x555)]('\x0a');_0x906c2f[_0x103e34(0x568,0x53d)](_0x3b7c5a);}lang[_0x103e34(0x504,0x4d3)][_0x103e34(0x56c,0x56b)][_0x103e34(0x539,0x556)]&&lang[_0x103e34(0x504,0x530)][_0x103e34(0x56c,0x57f)][_0x103e34(0x539,0x55b)][_0x103e34(0x50d,0x548)](_0x37fa93=>{function _0x502819(_0x2fb42a,_0x5918d9){return _0x103e34(_0x5918d9- -0x743,_0x2fb42a);}_0x37fa93['name']&&_0x37fa93[_0x502819(-0x1df,-0x21b)]&&_0x906c2f[_0x502819(-0x20e,-0x22a)]({'name':replacePlaceholders(_0x37fa93['name'],_0x3120d0),'value':replacePlaceholders(_0x37fa93[_0x502819(-0x21e,-0x21b)],_0x3120d0),'inline':_0x37fa93['inline']});});lang[_0x103e34(0x504,0x4fc)]['Embed'][_0x103e34(0x52f,0x505)][_0x103e34(0x572,0x53e)]&&_0x906c2f[_0x103e34(0x531,0x52e)]({'text':replacePlaceholders(lang[_0x103e34(0x504,0x517)][_0x103e34(0x56c,0x554)][_0x103e34(0x52f,0x529)][_0x103e34(0x572,0x594)],_0x3120d0),'iconURL':lang['Paypal'][_0x103e34(0x56c,0x546)][_0x103e34(0x52f,0x4f3)][_0x103e34(0x51a,0x518)]||undefined});lang[_0x103e34(0x504,0x4fc)][_0x103e34(0x56c,0x54a)][_0x103e34(0x55c,0x583)][_0x103e34(0x572,0x53d)]&&_0x906c2f[_0x103e34(0x50e,0x535)]({'name':replacePlaceholders(lang['Paypal'][_0x103e34(0x56c,0x58c)][_0x103e34(0x55c,0x52e)][_0x103e34(0x572,0x576)],_0x3120d0),'iconURL':lang[_0x103e34(0x504,0x520)][_0x103e34(0x56c,0x59a)][_0x103e34(0x55c,0x535)][_0x103e34(0x51a,0x501)]||undefined});lang[_0x103e34(0x504,0x4d5)]['Embed'][_0x103e34(0x54c,0x56f)]&&_0x906c2f[_0x103e34(0x548,0x585)](lang[_0x103e34(0x504,0x4ff)]['Embed'][_0x103e34(0x54c,0x571)]);lang[_0x103e34(0x504,0x4e9)]['Embed'][_0x103e34(0x55b,0x568)]&&_0x906c2f[_0x103e34(0x566,0x57d)](lang[_0x103e34(0x504,0x512)][_0x103e34(0x56c,0x54d)][_0x103e34(0x55b,0x543)]);_0x906c2f[_0x103e34(0x508,0x508)](lang[_0x103e34(0x504,0x4c9)]['Messages']['Unpaid'][_0x103e34(0x56e,0x575)]);const _0x16df71=new ActionRowBuilder();lang['Paypal'][_0x103e34(0x56c,0x538)]['Buttons'][_0x103e34(0x50a,0x547)]['Name']&&_0x16df71['addComponents'](new ButtonBuilder()[_0x103e34(0x54d,0x51c)](replacePlaceholders(lang[_0x103e34(0x504,0x537)][_0x103e34(0x56c,0x544)]['Buttons'][_0x103e34(0x50a,0x4dc)]['Name'],_0x3120d0))[_0x103e34(0x51b,0x558)](ButtonStyle['Link'])[_0x103e34(0x516,0x551)](_0x103e34(0x543,0x532)+(isSandbox?_0x103e34(0x56a,0x539):'')+_0x103e34(0x50f,0x51e)+_0x34902c)[_0x103e34(0x54a,0x566)](lang['Paypal'][_0x103e34(0x56c,0x592)]['Buttons'][_0x103e34(0x50a,0x508)][_0x103e34(0x524,0x4fb)]));lang[_0x103e34(0x504,0x4e9)][_0x103e34(0x56c,0x588)][_0x103e34(0x558,0x58c)]['Status']['Name']&&_0x16df71[_0x103e34(0x569,0x565)](new ButtonBuilder()[_0x103e34(0x54d,0x522)](replacePlaceholders(lang[_0x103e34(0x504,0x517)][_0x103e34(0x56c,0x55f)][_0x103e34(0x558,0x585)][_0x103e34(0x525,0x51e)][_0x103e34(0x512,0x50b)],_0x3120d0))[_0x103e34(0x51b,0x54f)](ButtonStyle[_0x103e34(0x52e,0x51a)])[_0x103e34(0x507,0x52e)](_0x103e34(0x532,0x56c)+_0x34902c)[_0x103e34(0x54a,0x579)](lang[_0x103e34(0x504,0x52d)][_0x103e34(0x56c,0x584)][_0x103e34(0x558,0x55c)][_0x103e34(0x525,0x528)][_0x103e34(0x524,0x513)]));const _0xd3cf81=await _0x74281[_0x103e34(0x56d,0x59f)]({'embeds':[_0x906c2f],'components':[_0x16df71],'fetchReply':!![]}),_0x22ac30=new Invoice({'userId':_0xdaac2d['id'],'price':_0x1dc175,'product':_0x26ed02,'invoiceId':_0x34902c,'status':'UNPAID','messageId':_0xd3cf81['id'],'channelId':_0x74281[_0x103e34(0x55e,0x548)]['id'],'guildId':_0x74281[_0x103e34(0x523,0x4ef)]['id']});await _0x22ac30[_0x103e34(0x53e,0x518)]();}catch(_0x3d6849){console[_0x103e34(0x563,0x58b)](_0x103e34(0x51e,0x50c),_0x3d6849[_0x103e34(0x550,0x566)]?_0x3d6849[_0x103e34(0x550,0x535)][_0x103e34(0x55f,0x55d)]:_0x3d6849[_0x103e34(0x553,0x537)]);if(!_0x74281[_0x103e34(0x562,0x576)]&&!_0x74281[_0x103e34(0x54f,0x56d)])await _0x74281[_0x103e34(0x56d,0x589)]({'content':lang[_0x103e34(0x504,0x53a)]['Messages'][_0x103e34(0x570,0x53c)],'ephemeral':!![]});else _0x74281[_0x103e34(0x54f,0x56a)]&&await _0x74281[_0x103e34(0x578,0x53c)]({'content':lang[_0x103e34(0x504,0x4d4)][_0x103e34(0x52a,0x549)][_0x103e34(0x570,0x55c)],'ephemeral':!![]});}}};